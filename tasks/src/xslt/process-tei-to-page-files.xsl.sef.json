{"N":"package","version":"30","packageVersion":"1","saxonVersion":"SaxonJS 2.5","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2023-03-15T07:43:29.529Z","ns":"xml=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions =http://www.tei-c.org/ns/1.0","defaultElementNS":"http://www.tei-c.org/ns/1.0","C":[{"N":"co","id":"0","uniform":"true","binds":"17 10 9 12 11 5 2 18","C":[{"N":"template","flags":"os","module":"process-tei-to-page-files.xsl","slots":"200","baseUri":"file:///srv/tasks/src/xslt/process-tei-to-page-files.xsl","name":"Q{http://www.w3.org/1999/XSL/Transform}initial-template","line":"16","expand-text":"false","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","sType":"* ","C":[{"N":"sequence","role":"body","sType":"* ","C":[{"N":"param","name":"Q{}identifier","slot":"0","sType":"* ","as":"* ","flags":"","line":"17","C":[{"N":"str","sType":"1AS ","val":"","role":"select"},{"N":"supplied","role":"conversion","slot":"0","sType":"* "}]},{"N":"param","name":"Q{}source-uri","slot":"1","sType":"* ","as":"* ","flags":"","line":"19","C":[{"N":"str","sType":"1AS ","val":"","role":"select"},{"N":"supplied","role":"conversion","slot":"1","sType":"* "}]},{"N":"param","name":"Q{}page-identifier-regex","slot":"2","sType":"* ","as":"* ","flags":"","line":"21","C":[{"N":"str","sType":"1AS ","val":"","role":"select"},{"N":"supplied","role":"conversion","slot":"2","sType":"* "}]},{"N":"let","var":"Q{}source","slot":"3","sType":"* ","line":"23","C":[{"N":"docOrder","sType":"*N","role":"select","line":"23","C":[{"N":"fn","name":"document","sType":"*N","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","C":[{"N":"varRef","name":"Q{}source-uri","slot":"1"}]}]},{"N":"let","var":"Q{}normalised","slot":"4","sType":"* ","line":"24","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/process-tei-to-page-files.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"27","mode":"Q{}normalise","bSlot":"0","C":[{"N":"varRef","name":"Q{}source","slot":"3","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"27"}]}]},{"N":"let","var":"Q{}tidied","slot":"5","sType":"* ","line":"30","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/process-tei-to-page-files.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"31","mode":"Q{}tidy","bSlot":"1","C":[{"N":"varRef","name":"Q{}normalised","slot":"4","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"31"}]}]},{"N":"let","var":"Q{}upconverted","slot":"6","sType":"* ","line":"34","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/process-tei-to-page-files.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"35","mode":"Q{}infer-semantics","bSlot":"2","C":[{"N":"varRef","name":"Q{}tidied","slot":"5","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"35"}]}]},{"N":"let","var":"Q{}bubbled","slot":"7","sType":"* ","line":"38","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/process-tei-to-page-files.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"39","mode":"Q{}bubble-pagebreaks","bSlot":"3","C":[{"N":"varRef","name":"Q{}upconverted","slot":"6","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"39"}]}]},{"N":"let","var":"Q{}paginated","slot":"8","sType":"* ","line":"42","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/process-tei-to-page-files.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"43","mode":"Q{}paginate","bSlot":"4","C":[{"N":"varRef","name":"Q{}bubbled","slot":"7","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"43"}]}]},{"N":"let","var":"Q{}surfaces","slot":"9","sType":"* ","line":"46","C":[{"N":"docOrder","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}surface","role":"select","line":"46","C":[{"N":"docOrder","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}surface","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}paginated","slot":"8"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}TEI"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}sourceDoc"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}surface"}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"choose","sType":"* ","line":"47","C":[{"N":"fn","name":"not","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"47","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}surfaces","slot":"9"}]}]},{"N":"ufCall","name":"Q{https://nyingarn.net/ns/functions}error","coId":"5","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"56","bSlot":"5","C":[{"N":"str","val":"unpaginated-document"},{"N":"str","val":"Unpaginated document"},{"N":"map","C":[{"N":"str","val":"source-type"},{"N":"ufCall","name":"Q{https://nyingarn.net/ns/functions}tei-source-type","coId":"2","bSlot":"6","C":[{"N":"varRef","name":"Q{}source","slot":"3"}]}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]},{"N":"let","var":"Q{}exportable-surfaces","slot":"10","sType":"* ","line":"63","C":[{"N":"filter","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"63","C":[{"N":"filter","C":[{"N":"varRef","name":"Q{}surfaces","slot":"9"},{"N":"fn","name":"starts-with","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||starts-with","C":[{"N":"check","card":"?","diag":"0|0||starts-with","C":[{"N":"attVal","name":"Q{http://www.w3.org/XML/1998/namespace}id"}]}]},{"N":"fn","name":"concat","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}identifier","slot":"0"}]}]},{"N":"str","val":"-"}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"fn","name":"matches","C":[{"N":"fn","name":"concat","C":[{"N":"check","card":"?","diag":"0|0||concat","C":[{"N":"attVal","name":"Q{http://www.w3.org/XML/1998/namespace}id"}]},{"N":"str","val":".tei.xml"}]},{"N":"treat","as":"AS","diag":"0|1||matches","C":[{"N":"check","card":"1","diag":"0|1||matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||matches","C":[{"N":"check","card":"1","diag":"0|1||matches","C":[{"N":"data","diag":"0|1||matches","C":[{"N":"varRef","name":"Q{}page-identifier-regex","slot":"2"}]}]}]}]}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"choose","sType":"* ","line":"64","C":[{"N":"fn","name":"not","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"64","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}exportable-surfaces","slot":"10"}]}]},{"N":"ufCall","name":"Q{https://nyingarn.net/ns/functions}error","coId":"5","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"76","bSlot":"5","C":[{"N":"str","val":"no-pages-with-suitable-identifiers"},{"N":"str","val":"No pages with suitable identifiers"},{"N":"map","C":[{"N":"str","val":"document-identifier"},{"N":"varRef","name":"Q{}identifier","slot":"0"},{"N":"str","val":"page-identifier-regex"},{"N":"varRef","name":"Q{}page-identifier-regex","slot":"2"},{"N":"str","val":"source-type"},{"N":"ufCall","name":"Q{https://nyingarn.net/ns/functions}tei-source-type","coId":"2","bSlot":"6","C":[{"N":"varRef","name":"Q{}source","slot":"3"}]}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]},{"N":"let","var":"Q{}surface-identifiers","slot":"11","sType":"* ","line":"79","C":[{"N":"docOrder","sType":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","role":"select","line":"79","C":[{"N":"docOrder","sType":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}exportable-surfaces","slot":"10"}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{http://www.w3.org/XML/1998/namespace}id"}]}]}]},{"N":"let","var":"Q{}distinct-surface-identifiers","slot":"12","sType":"* ","line":"80","C":[{"N":"forEach","sType":"*AS","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"80","C":[{"N":"fn","name":"distinct-values","C":[{"N":"data","diag":"0|0||distinct-values","C":[{"N":"varRef","name":"Q{}surface-identifiers","slot":"11"}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"fn","name":"string","C":[{"N":"dot"}]}]},{"N":"sequence","sType":"* ","C":[{"N":"choose","sType":"* ","line":"81","C":[{"N":"vc","op":"ne","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"81","C":[{"N":"fn","name":"count","C":[{"N":"varRef","name":"Q{}distinct-surface-identifiers","slot":"12"}]},{"N":"fn","name":"count","C":[{"N":"varRef","name":"Q{}surface-identifiers","slot":"11"}]}]},{"N":"let","var":"Q{}duplicate-identifiers","slot":"13","sType":"* ","line":"82","C":[{"N":"filter","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"82","C":[{"N":"varRef","name":"Q{}distinct-surface-identifiers","slot":"12"},{"N":"compareToInt","op":"ne","val":"1","C":[{"N":"fn","name":"count","C":[{"N":"filter","C":[{"N":"varRef","name":"Q{}surface-identifiers","slot":"11"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"atomSing","diag":"1|0||gc","card":"?","C":[{"N":"dot"}]},{"N":"data","diag":"1|1||gc","C":[{"N":"varRef","name":"Q{}identifier","slot":"0"}]}]}]}]}]}]},{"N":"ufCall","name":"Q{https://nyingarn.net/ns/functions}error","coId":"5","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"92","bSlot":"5","C":[{"N":"str","val":"duplicate-page-identifiers-found"},{"N":"str","val":"Duplicate page identifiers found"},{"N":"map","C":[{"N":"str","val":"duplicate-identifiers"},{"N":"fn","name":"string-join","C":[{"N":"data","diag":"0|0||string-join","C":[{"N":"varRef","name":"Q{}duplicate-identifiers","slot":"13"}]},{"N":"str","val":", "}]},{"N":"str","val":"source-type"},{"N":"ufCall","name":"Q{https://nyingarn.net/ns/functions}tei-source-type","coId":"2","bSlot":"6","C":[{"N":"varRef","name":"Q{}source","slot":"3"}]}]}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]},{"N":"forEach","sType":"* ","line":"94","C":[{"N":"varRef","name":"Q{}exportable-surfaces","slot":"10","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"94"},{"N":"resultDoc","sType":"0 ","line":"96","local":"omit-xml-declaration=yes\nindent=no\n","global":"indent=yes\nmethod=xml\n","C":[{"N":"fn","name":"concat","sType":"1AS ","role":"href","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","C":[{"N":"docOrder","sType":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","line":"96","C":[{"N":"slash","role":"select","simple":"1","sType":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","C":[{"N":"treat","as":"N","diag":"13|0|XTTE0510|","C":[{"N":"dot"}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","sType":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions "}]}]}]}]}]},{"N":"str","sType":"1AS ","val":" "}]},{"N":"str","sType":"1AS ","val":".tei.xml"},{"N":"str","sType":"1AS ","val":""}]},{"N":"applyT","sType":"* ","line":"98","mode":"Q{}serialize","role":"content","bSlot":"7","C":[{"N":"dot","sType":"1","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"98"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"1","uniform":"true","binds":"10","C":[{"N":"template","flags":"os","module":"tidy-tei.xsl","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","name":"Q{}merge-adjacent-identical-highlights","line":"69","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","expand-text":"false","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","sType":"* ","C":[{"N":"forEachGroup","sType":"* ","algorithm":"adjacent","flags":"c","role":"body","line":"79","C":[{"N":"docOrder","sType":"*N u[NT,NP,NC,NE]","role":"select","line":"79","C":[{"N":"slash","role":"select","simple":"1","sType":"*N u[NT,NP,NC,NE]","C":[{"N":"treat","as":"N","diag":"13|0|XTTE0510|","C":[{"N":"dot"}]},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ "}]}]},{"N":"data","role":"key","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/array}sort","sType":"1FA","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","line":"-1","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/array}_from-sequence","C":[{"N":"sequence","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"}]}]}]}]}]}]},{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]}]}]}]}]},{"N":"str","val":"\\s*;\\s*"}]}]}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"str","sType":"1AS ","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint","role":"collation"},{"N":"choose","sType":"* ","type":"item()*","role":"content","line":"80","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","line":"81"},{"N":"let","var":"Q{}content","slot":"0","sType":"* ","line":"84","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/tidy-tei.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"85","mode":"Q{}tidy","bSlot":"0","C":[{"N":"docOrder","sType":"*N","role":"select","line":"85","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"currentGroup"}]},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"}]}]}]}]}]},{"N":"choose","sType":"* ","type":"item()*","line":"87","C":[{"N":"or","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","line":"88","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]},{"N":"copy","sType":"1N u[1NT ,1NP ,1NC ,1NE ] ","flags":"cin","line":"90","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"91","mode":"Q{}tidy","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"91"}]},{"N":"varRef","name":"Q{}content","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"92"}]}]},{"N":"true"},{"N":"varRef","name":"Q{}content","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"97"}]}]},{"N":"true"},{"N":"applyT","sType":"* ","line":"103","mode":"Q{}tidy","bSlot":"0","C":[{"N":"currentGroup","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"103"}]}]}]}]}]},{"N":"co","id":"2","vis":"PRIVATE","ex:uniform":"true","binds":"16","C":[{"N":"function","name":"Q{https://nyingarn.net/ns/functions}tei-source-type","as":"* ","slots":"201","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 nyingarn=https://nyingarn.net/ns/functions","module":"normalise.xsl","baseUri":"file:///srv/tasks/src/xslt/normalise.xsl","flags":"muu","sig":"1F r[* ] a[* ] ","sType":"1F r[* ] a[* ] ","line":"24","C":[{"N":"arg","slot":"0","name":"Q{}document","as":"* ","sType":"* "},{"N":"choose","sType":"* ","type":"item()*","role":"body","line":"26","C":[{"N":"fn","name":"contains","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"27","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"check","card":"?","diag":"0|0||contains","C":[{"N":"data","diag":"0|0||contains","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}document","slot":"0"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}TEI"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}teiHeader"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}fileDesc"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}publicationStmt"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}publisher"}]}]}]}]}]},{"N":"str","val":"FromThePage"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"str","val":"from-the-page","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"29"},{"N":"or","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"34","C":[{"N":"fn","name":"contains","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"check","card":"?","diag":"0|0||contains","C":[{"N":"data","diag":"0|0||contains","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}document","slot":"0"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}TEI"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}teiHeader"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}fileDesc"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}publicationStmt"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}publisher"}]}]}]}]}]},{"N":"str","val":"tranScriptorium"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}document","slot":"0"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}TEI"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}teiHeader"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}fileDesc"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}sourceDesc"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}bibl"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}idno"}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}type"}]}]}]},{"N":"str","val":"Transkribus"}]}]},{"N":"str","val":"transkribus","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"36"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"38","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}document","slot":"0"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}TEI"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}teiHeader"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}encodingDesc"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}appInfo"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}application"}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}ident"}]}]}]},{"N":"str","val":"TEI_fromDOCX"}]},{"N":"applyT","sType":"* ","line":"40","mode":"#unnamed","bSlot":"0","C":[{"N":"str","val":"docx-via-oxgarage","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"40"}]},{"N":"true"},{"N":"str","val":"generic-tei","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"44"}]}]}]},{"N":"co","id":"3","vis":"PRIVATE","ex:uniform":"true","binds":"4","C":[{"N":"function","name":"Q{https://www.w3.org/Style/CSS/}purify-declaration-block","as":"* ","slots":"201","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","module":"normalise-docx-via-oxgarage.xsl","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","flags":"muu","sig":"1F r[* ] a[* ] ","sType":"1F r[* ] a[* ] ","line":"83","C":[{"N":"arg","slot":"0","name":"Q{}declaration-block","as":"* ","sType":"* "},{"N":"let","var":"Q{}declarations","slot":"1","sType":"*AS ","line":"85","role":"body","C":[{"N":"ufCall","name":"Q{https://www.w3.org/Style/CSS/}parse-declaration-block","coId":"4","sType":"*FM","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"85","bSlot":"0","C":[{"N":"varRef","name":"Q{}declaration-block","slot":"0"}]},{"N":"let","var":"Q{}non-bogus-declarations","slot":"2","sType":"*AS ","line":"88","C":[{"N":"filter","sType":"*","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"88","C":[{"N":"varRef","name":"Q{}declarations","slot":"1"},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"treat","as":"F","diag":"0|0|XPTY0004|apply","C":[{"N":"dot"}]},{"N":"arrayBlock","C":[{"N":"str","val":"text-align"}]}]}]},{"N":"sequence","literal":"true","C":[{"N":"str","val":"left"},{"N":"str","val":"justify"}]}]}]}]},{"N":"let","var":"Q{}desired-properties","slot":"3","sType":"*AS ","line":"90","C":[{"N":"sequence","literal":"true","sType":"*AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"90","C":[{"N":"str","val":"color"},{"N":"str","val":"text-align"}]},{"N":"fn","name":"string-join","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"103","C":[{"N":"data","diag":"0|0||string-join","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}for-each","C":[{"N":"treat","as":"FM","diag":"0|0||map:for-each","C":[{"N":"check","card":"1","diag":"0|0||map:for-each","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}merge","C":[{"N":"treat","as":"FM","diag":"0|0||map:merge","C":[{"N":"varRef","name":"Q{}non-bogus-declarations","slot":"2"}]}]}]}]},{"N":"inlineFn","arity":"2","name":"inline","as":"?AS","sType":"1F a[*,*] r[?AS]","C":[{"N":"arg","name":"key","asCode":"*","slot":"6"},{"N":"arg","name":"value","asCode":"*","slot":"7"},{"N":"choose","role":"body","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}key","slot":"6"}]},{"N":"data","diag":"1|1||gc","C":[{"N":"varRef","name":"Q{}desired-properties","slot":"3"}]}]},{"N":"fn","name":"concat","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}key","slot":"6"}]}]},{"N":"str","val":":"},{"N":"check","card":"?","diag":"undefined|1||concat","C":[{"N":"data","diag":"undefined|1||concat","C":[{"N":"varRef","name":"Q{}value","slot":"7"}]}]}]},{"N":"true"},{"N":"empty"}]}]}]}]},{"N":"str","val":"; "}]}]}]}]}]}]},{"N":"co","binds":"","id":"4","vis":"PRIVATE","ex:uniform":"true","C":[{"N":"function","name":"Q{https://www.w3.org/Style/CSS/}parse-declaration-block","as":"*FM ","slots":"201","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ array=~","module":"css.xsl","baseUri":"file:///srv/tasks/src/xslt/css.xsl","flags":"muu","sig":"1F r[*FM ] a[* ] ","sType":"1F r[*FM ] a[* ] ","line":"8","C":[{"N":"arg","slot":"0","name":"Q{}declaration-block","as":"* ","sType":"* "},{"N":"for","name":"Q{}declaration","slot":"3","sType":"*FM","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ array=~ ","role":"body","line":"15","C":[{"N":"fn","name":"tokenize","C":[{"N":"treat","as":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"varRef","name":"Q{}declaration-block","slot":"0"}]}]}]}]}]},{"N":"str","val":";"}]},{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}entry","C":[{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"substring-before","C":[{"N":"varRef","name":"Q{}declaration","slot":"3"},{"N":"str","val":":"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"substring-after","C":[{"N":"varRef","name":"Q{}declaration","slot":"3"},{"N":"str","val":":"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]}]}]}]}]},{"N":"co","binds":"","id":"5","vis":"PRIVATE","ex:uniform":"true","C":[{"N":"function","name":"Q{https://nyingarn.net/ns/functions}error","as":"* ","slots":"203","ns":"xml=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions","module":"error.xsl","baseUri":"file:///srv/tasks/src/xslt/error.xsl","flags":"muu","sig":"1F r[* ] a[* ,* ,1FM ] ","sType":"1F r[* ] a[* ,* ,1FM ] ","line":"8","C":[{"N":"arg","slot":"0","name":"Q{}code","as":"* ","sType":"* "},{"N":"arg","slot":"1","name":"Q{}description","as":"* ","sType":"* "},{"N":"arg","slot":"2","name":"Q{}error-object","as":"FM ","sType":"FM "},{"N":"fn","name":"error","sType":"0E","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"body","line":"18","C":[{"N":"fn","name":"QName","C":[{"N":"str","val":"https://nyingarn.net/ns/errors"},{"N":"treat","as":"AS","diag":"0|1||QName","C":[{"N":"check","card":"1","diag":"0|1||QName","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||QName","C":[{"N":"check","card":"1","diag":"0|1||QName","C":[{"N":"data","diag":"0|1||QName","C":[{"N":"varRef","name":"Q{}code","slot":"0"}]}]}]}]}]}]},{"N":"treat","as":"AS","diag":"0|1||error","C":[{"N":"check","card":"1","diag":"0|1||error","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||error","C":[{"N":"check","card":"1","diag":"0|1||error","C":[{"N":"data","diag":"0|1||error","C":[{"N":"varRef","name":"Q{}description","slot":"1"}]}]}]}]}]},{"N":"fn","name":"serialize","C":[{"N":"varRef","name":"Q{}error-object","slot":"2"},{"N":"map","C":[{"N":"str","val":"method"},{"N":"str","val":"json"},{"N":"str","val":"indent"},{"N":"true"}]}]}]}]}]},{"N":"co","id":"6","vis":"PRIVATE","ex:uniform":"true","binds":"5","C":[{"N":"function","name":"Q{https://nyingarn.net/ns/functions}error","as":"* ","slots":"202","ns":"xml=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions","module":"error.xsl","baseUri":"file:///srv/tasks/src/xslt/error.xsl","flags":"muu","sig":"1F r[* ] a[* ,* ] ","sType":"1F r[* ] a[* ,* ] ","line":"20","C":[{"N":"arg","slot":"0","name":"Q{}code","as":"* ","sType":"* "},{"N":"arg","slot":"1","name":"Q{}description","as":"* ","sType":"* "},{"N":"ufCall","name":"Q{https://nyingarn.net/ns/functions}error","coId":"5","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"body","line":"23","bSlot":"0","C":[{"N":"varRef","name":"Q{}code","slot":"0"},{"N":"varRef","name":"Q{}description","slot":"1"},{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}_new"}]}]}]},{"N":"co","binds":"","id":"7","vis":"PUBLIC","ex:uniform":"true","C":[{"N":"globalVariable","name":"Q{}desired-rend-tokens","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","module":"normalise-docx-via-oxgarage.xsl","slots":"200","sType":"*AS","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","C":[{"N":"sequence","literal":"true","sType":"*AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"25","C":[{"N":"str","val":"underline"},{"N":"str","val":"strikethrough"}]}]}]},{"N":"co","binds":"","id":"8","vis":"PUBLIC","ex:uniform":"true","C":[{"N":"globalVariable","name":"Q{}rend-mapping","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","module":"normalise-transkribus.xsl","slots":"200","sType":"1FM","baseUri":"file:///srv/tasks/src/xslt/normalise-transkribus.xsl","C":[{"N":"map","sType":"1FM","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"38","C":[{"N":"str","val":"underlined:true;"},{"N":"str","val":"underline"}]}]}]},{"N":"co","id":"9","binds":"4 9","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}infer-semantics","prec":"","C":[{"N":"templateRule","rank":"0","prec":"2","seq":"3","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"1","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/infer-semantics.xsl","line":"67","module":"infer-semantics.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"p[css:parse-declaration-block(@style)('text-align')='center']","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}p","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}p","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}p"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"check","card":"1","diag":"0|0|XPTY0004|apply","C":[{"N":"ufCall","name":"Q{https://www.w3.org/Style/CSS/}parse-declaration-block","coId":"4","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]}]},{"N":"arrayBlock","C":[{"N":"str","val":"text-align"}]}]}]},{"N":"str","val":"center"}]}]},{"N":"elem","name":"label","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}label ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0 array=http://www.w3.org/2005/xpath-functions/array css=https://www.w3.org/Style/CSS/","role":"action","line":"68","C":[{"N":"applyT","sType":"* ","mode":"Q{}infer-semantics","bSlot":"1","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"3"}]}]}]},{"N":"templateRule","rank":"1","prec":"2","seq":"2","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"1","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/infer-semantics.xsl","line":"62","module":"infer-semantics.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"p      [matches(., '\\p{Nd}+')]      [matches(., '^[\\s\\p{P}\\p{Nd}]+$')]      [preceding-sibling::*[1]/self::pb]      [css:parse-declaration-block(@style)('text-align')='right']     ","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}p","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}p","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.withPredicate","C":[{"N":"p.withPredicate","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}p"},{"N":"fn","name":"matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\p{Nd}+"}]}]},{"N":"fn","name":"matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"^[\\s\\p{P}\\p{Nd}]+$"}]}]},{"N":"slash","op":"/","C":[{"N":"fn","name":"reverse","C":[{"N":"first","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*NE"}]}]},{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"check","card":"1","diag":"0|0|XPTY0004|apply","C":[{"N":"ufCall","name":"Q{https://www.w3.org/Style/CSS/}parse-declaration-block","coId":"4","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]}]},{"N":"arrayBlock","C":[{"N":"str","val":"text-align"}]}]}]},{"N":"str","val":"right"}]}]},{"N":"elem","name":"fw","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}fw ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0 array=http://www.w3.org/2005/xpath-functions/array css=https://www.w3.org/Style/CSS/","role":"action","line":"63","C":[{"N":"sequence","sType":"* ","C":[{"N":"att","name":"type","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"page-number"}]},{"N":"applyT","sType":"* ","mode":"Q{}infer-semantics","bSlot":"1","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"3"}]}]}]}]},{"N":"templateRule","rank":"2","prec":"2","seq":"1","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"1","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/infer-semantics.xsl","line":"40","module":"infer-semantics.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi[contains-token(@rend, 'strikethrough')]","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}hi","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"fn","name":"contains-token","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains-token","C":[{"N":"attVal","name":"Q{}rend"}]},{"N":"str","val":"strikethrough"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"elem","type":"element()","role":"action","name":"del","sType":"1NE ","nsuri":"http://www.tei-c.org/ns/1.0","line":"41","C":[{"N":"let","var":"Q{}remaining-rend-tokens","slot":"0","sType":"* ","line":"42","C":[{"N":"fn","name":"string-join","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"42","C":[{"N":"filter","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"attVal","name":"Q{}rend"}]}]}]},{"N":"fn","name":"not","C":[{"N":"compareToString","op":"eq","val":"strikethrough","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","C":[{"N":"dot"}]}]}]},{"N":"str","val":" "}]},{"N":"sequence","sType":"* ","C":[{"N":"choose","sType":"? ","line":"43","C":[{"N":"varRef","name":"Q{}remaining-rend-tokens","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","line":"43"},{"N":"att","name":"rend","sType":"1NA ","line":"44","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"varRef","sType":"*","name":"Q{}remaining-rend-tokens","slot":"0","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"44"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]},{"N":"applyT","sType":"* ","line":"46","mode":"Q{}infer-semantics","bSlot":"1","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"46"}]}]}]}]}]},{"N":"templateRule","rank":"3","prec":"2","seq":"0","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"1","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/infer-semantics.xsl","line":"24","module":"infer-semantics.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"true","match":"rs[starts-with(@ref, '#')]","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}rs","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}rs","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}rs"},{"N":"fn","name":"starts-with","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||starts-with","C":[{"N":"check","card":"?","diag":"0|0||starts-with","C":[{"N":"attVal","name":"Q{}ref"}]}]},{"N":"str","val":"#"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"let","var":"Q{}name-type","slot":"0","sType":"*NE ","line":"32","role":"action","C":[{"N":"let","name":"Q{}referred-element","slot":"2","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"32","C":[{"N":"fn","name":"key","C":[{"N":"str","val":"authority-record-by-id"},{"N":"fn","name":"substring-after","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||substring-after","C":[{"N":"check","card":"?","diag":"0|0||substring-after","C":[{"N":"attVal","name":"Q{}ref"}]}]},{"N":"str","val":"#"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"choose","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"varRef","name":"Q{}referred-element","slot":"2"},{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}place"}]}]},{"N":"str","val":"placeName"},{"N":"true"},{"N":"choose","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"varRef","name":"Q{}referred-element","slot":"2"},{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}person"}]}]},{"N":"str","val":"persName"},{"N":"true"},{"N":"str","val":"rs"}]}]}]},{"N":"compElem","sType":"1NE ","line":"33","C":[{"N":"fn","name":"string-join","sType":"1AS ","role":"name","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"varRef","name":"Q{}name-type","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","line":"33"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]},{"N":"sequence","role":"content","sType":"* ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ nyingarn=https://nyingarn.net/ns/functions =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","line":"34","sType":"*NA","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"34"}]},{"N":"applyT","sType":"* ","line":"35","mode":"Q{}infer-semantics","bSlot":"1","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"35"}]}]}]}]}]}]}]},{"N":"co","id":"10","binds":"10 1","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}tidy","prec":"","C":[{"N":"templateRule","rank":"0","prec":"4","seq":"10","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"3","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"50","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"@xml:space[.='preserve']","prio":"0.5","matches":"NA nQ{http://www.w3.org/XML/1998/namespace}space","C":[{"N":"p.withPredicate","role":"match","sType":"1NA nQ{http://www.w3.org/XML/1998/namespace}space","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.nodeTest","test":"NA nQ{http://www.w3.org/XML/1998/namespace}space"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"atomSing","diag":"1|0||gc","card":"?","C":[{"N":"dot"}]},{"N":"str","val":"preserve"}]}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"1","prec":"4","seq":"9","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"3","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"46","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"seg[not(@*)]","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}seg","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}seg","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}seg"},{"N":"fn","name":"not","C":[{"N":"axis","name":"attribute","nodeTest":"*NA"}]}]},{"N":"applyT","sType":"* ","line":"47","mode":"Q{}tidy","role":"action","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"47"}]}]},{"N":"templateRule","rank":"2","prec":"4","seq":"8","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"3","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"42","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi[not(@rend or @style)]","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}hi","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"fn","name":"not","C":[{"N":"or","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]}]}]},{"N":"applyT","sType":"* ","line":"43","mode":"Q{}tidy","role":"action","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"43"}]}]},{"N":"templateRule","rank":"3","prec":"4","seq":"7","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"3","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"37","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"p/text()[not(following-sibling::node())][matches(., '\\s$')]","prio":"0.5","matches":"NT","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.withPredicate","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NT"},{"N":"fn","name":"not","C":[{"N":"axis","name":"following-sibling","nodeTest":"*N"}]}]},{"N":"fn","name":"matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s$"}]}]},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}p"}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"action","line":"38","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s+$"},{"N":"str","val":""}]}]},{"N":"templateRule","rank":"4","prec":"4","seq":"5","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"3","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"26","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"text()[following-sibling::*[1]/self::lb][matches(., '\\s$')]","prio":"0.5","matches":"NT","C":[{"N":"p.withPredicate","role":"match","code":"*NT","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.genPos","test":"*NT","C":[{"N":"slash","op":"/","C":[{"N":"first","C":[{"N":"axis","name":"following-sibling","nodeTest":"*NE"}]},{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}lb"}]}]},{"N":"fn","name":"matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s$"}]}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"action","line":"27","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s+$"},{"N":"str","val":""}]}]},{"N":"templateRule","rank":"5","prec":"4","seq":"4","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"3","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"21","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"text()[contains(., codepoints-to-string(10))]","prio":"0.5","matches":"NT","C":[{"N":"p.withPredicate","role":"match","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.nodeTest","test":"NT"},{"N":"fn","name":"contains","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"atomSing","diag":"0|0||contains","card":"?","C":[{"N":"dot"}]}]},{"N":"fn","name":"codepoints-to-string","C":[{"N":"int","val":"10"}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"action","line":"22","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\n\\s+"},{"N":"fn","name":"codepoints-to-string","C":[{"N":"int","val":"10"}]}]}]},{"N":"templateRule","rank":"6","prec":"4","seq":"6","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"3","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"31","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"lb","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}lb","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}lb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}lb","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ "},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"nextMatch","sType":"* ","line":"32"},{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"33","C":[{"N":"int","val":"10"}]}]}]},{"N":"templateRule","rank":"7","prec":"4","seq":"11","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","minImp":"3","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"55","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"*","prio":"-0.5","matches":"NE","C":[{"N":"p.nodeTest","role":"match","test":"NE","sType":"1NE","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ "},{"N":"copy","sType":"1NE ","flags":"cin","role":"action","line":"56","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"57","mode":"Q{}tidy","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"57"}]},{"N":"choose","sType":"* ","type":"item()*","line":"58","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","line":"59"},{"N":"callT","bSlot":"1","sType":"* ","name":"Q{}merge-adjacent-identical-highlights","line":"60"},{"N":"true"},{"N":"applyT","sType":"* ","line":"63","mode":"Q{}tidy","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","role":"select","line":"63"}]}]}]}]}]}]}]},{"N":"co","binds":"","id":"11","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}paginate","prec":"","C":[{"N":"templateRule","rank":"0","prec":"5","seq":"12","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"5","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/paginate.xsl","line":"11","module":"paginate.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"true","match":"/TEI/text","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}text","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}text","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}text"},{"N":"p.withUpper","axis":"parent","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}TEI"},{"N":"p.nodeTest","test":"ND"}]}]},{"N":"let","var":"Q{}content","slot":"0","sType":"*NE ","line":"14","role":"action","C":[{"N":"docOrder","sType":"*N","role":"select","line":"14","C":[{"N":"slash","op":"/","sType":"*N","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}body"},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"}]}]},{"N":"let","var":"Q{}page-breaks","slot":"1","sType":"*NE ","line":"15","C":[{"N":"docOrder","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}pb","role":"select","line":"15","C":[{"N":"docOrder","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}pb","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}content","slot":"0"}]},{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]}]},{"N":"elem","name":"sourceDoc","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}sourceDoc ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"16","C":[{"N":"forEach","sType":"*NE ","line":"17","C":[{"N":"varRef","name":"Q{}page-breaks","slot":"1","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"17"},{"N":"let","var":"Q{}current-page-break","slot":"2","sType":"*NE ","line":"19","C":[{"N":"dot","sType":"1","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"19"},{"N":"elem","name":"surface","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}surface ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"21","C":[{"N":"sequence","sType":"*N ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","line":"22","sType":"*NA","C":[{"N":"docOrder","sType":"*NA","role":"select","line":"22","C":[{"N":"docOrder","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}current-page-break","slot":"2"}]},{"N":"axis","name":"attribute","nodeTest":"*NA"}]}]}]}]},{"N":"docOrder","sType":"*N","role":"select","line":"23","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}current-page-break","slot":"2"}]},{"N":"filter","C":[{"N":"filter","C":[{"N":"axis","name":"following-sibling","nodeTest":"*N"},{"N":"fn","name":"not","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]},{"N":"is","C":[{"N":"fn","name":"reverse","C":[{"N":"first","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]},{"N":"treat","as":"N","diag":"1|0||Expression","C":[{"N":"check","card":"?","diag":"1|0||Expression","C":[{"N":"varRef","name":"Q{}current-page-break","slot":"2"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"12","binds":"12","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}bubble-pagebreaks","prec":"","C":[{"N":"templateRule","rank":"0","prec":"5","seq":"13","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"5","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/paginate.xsl","line":"31","module":"paginate.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"true","match":"body//*","prio":"0.5","matches":"NE","C":[{"N":"p.withUpper","role":"match","axis":"ancestor","sType":"1NE","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"p.nodeTest","test":"NE"},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}body"}]},{"N":"let","var":"Q{}container","slot":"0","sType":"* ","line":"32","role":"action","C":[{"N":"dot","sType":"1NE","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"32"},{"N":"let","var":"Q{}paginated-content","slot":"1","sType":"* ","line":"33","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/paginate.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"34","mode":"Q{}bubble-pagebreaks","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"34"}]}]},{"N":"let","var":"Q{}page-breaks","slot":"2","sType":"* ","line":"37","C":[{"N":"docOrder","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}pb","role":"select","line":"37","C":[{"N":"docOrder","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}pb","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}paginated-content","slot":"1"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]}]},{"N":"choose","sType":"* ","type":"item()*","line":"38","C":[{"N":"varRef","name":"Q{}page-breaks","slot":"2","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","line":"39"},{"N":"let","var":"Q{}first-page-break-at-top-of-container","slot":"3","sType":"* ","line":"44","C":[{"N":"filter","sType":"?","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"44","C":[{"N":"first","C":[{"N":"varRef","name":"Q{}page-breaks","slot":"2"}]},{"N":"fn","name":"not","C":[{"N":"fn","name":"reverse","C":[{"N":"filter","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*N"},{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"string","C":[{"N":"dot"}]}]}]}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"choose","sType":"* ","type":"item()*","line":"45","C":[{"N":"varRef","name":"Q{}first-page-break-at-top-of-container","slot":"3","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","line":"46"},{"N":"sequence","sType":"* ","C":[{"N":"first","sType":"?","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"47","C":[{"N":"varRef","name":"Q{}page-breaks","slot":"2"}]},{"N":"forEach","sType":"* ","C":[{"N":"check","card":"?","sType":"? ","diag":"2|0|XTTE3180|xsl:copy/@select","role":"select","line":"48","C":[{"N":"varRef","name":"Q{}container","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ "}]},{"N":"copy","sType":"1 ","flags":"cin","line":"48","C":[{"N":"sequence","sType":"*N ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","line":"49","sType":"*NA","C":[{"N":"docOrder","sType":"*NA","role":"select","line":"49","C":[{"N":"docOrder","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}container","slot":"0"}]},{"N":"axis","name":"attribute","nodeTest":"*NA"}]}]}]}]},{"N":"docOrder","sType":"*N","role":"select","line":"50","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}paginated-content","slot":"1"}]},{"N":"filter","C":[{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"},{"N":"is","C":[{"N":"fn","name":"reverse","C":[{"N":"first","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]},{"N":"treat","as":"N","diag":"1|0||Expression","C":[{"N":"check","card":"?","diag":"1|0||Expression","C":[{"N":"varRef","name":"Q{}first-page-break-at-top-of-container","slot":"3"}]}]}]}]},{"N":"fn","name":"not","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"forEach","sType":"* ","C":[{"N":"check","card":"?","sType":"? ","diag":"2|0|XTTE3180|xsl:copy/@select","role":"select","line":"55","C":[{"N":"varRef","name":"Q{}container","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ "}]},{"N":"copy","sType":"1 ","flags":"cin","line":"55","C":[{"N":"sequence","sType":"*N ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","line":"56","sType":"*NA","C":[{"N":"docOrder","sType":"*NA","role":"select","line":"56","C":[{"N":"docOrder","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}container","slot":"0"}]},{"N":"axis","name":"attribute","nodeTest":"*NA"}]}]}]}]},{"N":"att","name":"part","sType":"1NA ","line":"57","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"I"}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":""}]}]},{"N":"docOrder","sType":"*N","role":"select","line":"59","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}paginated-content","slot":"1"}]},{"N":"filter","flags":"p","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"},{"N":"is","C":[{"N":"first","C":[{"N":"axis","name":"following-sibling","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]},{"N":"treat","as":"N","diag":"1|0||Expression","C":[{"N":"check","card":"?","diag":"1|0||Expression","C":[{"N":"first","C":[{"N":"varRef","name":"Q{}page-breaks","slot":"2"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"forEach","sType":"* ","line":"65","C":[{"N":"except","op":"except","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}pb","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"65","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}paginated-content","slot":"1"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]},{"N":"docOrder","C":[{"N":"treat","as":"N","diag":"1|1||except","C":[{"N":"varRef","name":"Q{}first-page-break-at-top-of-container","slot":"3"}]}]}]},{"N":"let","var":"Q{}pb","slot":"4","sType":"* ","line":"66","C":[{"N":"dot","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"66"},{"N":"sequence","sType":"* ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","line":"67","sType":"*","C":[{"N":"varRef","name":"Q{}pb","slot":"4","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"67"}]},{"N":"forEach","sType":"* ","C":[{"N":"check","card":"?","sType":"? ","diag":"2|0|XTTE3180|xsl:copy/@select","role":"select","line":"68","C":[{"N":"varRef","name":"Q{}container","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ "}]},{"N":"copy","sType":"1 ","flags":"cin","line":"68","C":[{"N":"sequence","sType":"*N ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","line":"69","sType":"*NA","C":[{"N":"docOrder","sType":"*NA","role":"select","line":"69","C":[{"N":"docOrder","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}container","slot":"0"}]},{"N":"axis","name":"attribute","nodeTest":"*NA"}]}]}]}]},{"N":"att","name":"part","sType":"1NA ","line":"70","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"choose","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"70","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}pb","slot":"4"}]},{"N":"axis","name":"following-sibling","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]},{"N":"str","val":"M"},{"N":"true"},{"N":"str","val":"F"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"docOrder","sType":"*N","role":"select","line":"72","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}paginated-content","slot":"1"}]},{"N":"filter","C":[{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"},{"N":"is","C":[{"N":"fn","name":"reverse","C":[{"N":"first","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]},{"N":"treat","as":"N","diag":"1|0||Expression","C":[{"N":"check","card":"?","diag":"1|0||Expression","C":[{"N":"varRef","name":"Q{}pb","slot":"4"}]}]}]}]},{"N":"fn","name":"not","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"varRef","name":"Q{}container","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"78"}]}]}]}]}]}]}]},{"N":"co","id":"13","binds":"13","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}from-the-page","prec":"","C":[{"N":"templateRule","rank":"0","prec":"6","seq":"15","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"6","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-from-the-page.xsl","line":"24","module":"normalise-from-the-page.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"(p|div)/@xml:id","prio":"0.5","matches":"NA nQ{http://www.w3.org/XML/1998/namespace}id","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{http://www.w3.org/XML/1998/namespace}id","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"p.nodeTest","test":"NA nQ{http://www.w3.org/XML/1998/namespace}id"},{"N":"p.venn","op":"union","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}p"},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}div"}]}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"1","prec":"6","seq":"17","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"6","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-from-the-page.xsl","line":"33","module":"normalise-from-the-page.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}div","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}div","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}div","ns":"= xml=~ fn=~ xsl=~ "},{"N":"applyT","sType":"* ","line":"34","mode":"Q{}from-the-page","role":"action","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"34"}]}]},{"N":"templateRule","rank":"2","prec":"6","seq":"16","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"6","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-from-the-page.xsl","line":"27","module":"normalise-from-the-page.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"pb","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}pb","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}pb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb","ns":"= xml=~ fn=~ xsl=~ "},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"3","prec":"6","seq":"14","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"6","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-from-the-page.xsl","line":"17","module":"normalise-from-the-page.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"fw","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}fw","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}fw","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}fw","ns":"= xml=~ fn=~ xsl=~ "},{"N":"let","var":"Q{}id","slot":"0","sType":"*NE ","line":"19","role":"action","C":[{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"19","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"^([^.]+).*"},{"N":"str","val":"$1"}]},{"N":"elem","name":"pb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"20","C":[{"N":"att","name":"xml:id","nsuri":"http://www.w3.org/XML/1998/namespace","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"varRef","name":"Q{}id","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","line":"20"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]}]},{"N":"co","id":"14","binds":"8","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}transkribus","prec":"","C":[{"N":"templateRule","rank":"0","prec":"7","seq":"20","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"7","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-transkribus.xsl","line":"26","module":"normalise-transkribus.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi/@rend","prio":"0.5","matches":"NA nQ{}rend","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{}rend","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"p.nodeTest","test":"NA nQ{}rend"},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"}]},{"N":"let","var":"Q{}current-properties","slot":"0","sType":"* ","line":"27","role":"action","C":[{"N":"fn","name":"tokenize","sType":"*AS","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"27","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"atomSing","diag":"0|0||tokenize","card":"?","C":[{"N":"dot"}]}]}]},{"N":"let","var":"Q{}retained-properties","slot":"1","sType":"* ","line":"28","C":[{"N":"forEach","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"28","C":[{"N":"varRef","name":"Q{}current-properties","slot":"0"},{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"gVarRef","name":"Q{}rend-mapping","bSlot":"0"},{"N":"arrayBlock","C":[{"N":"dot"}]}]}]},{"N":"choose","sType":"? ","line":"29","C":[{"N":"fn","name":"exists","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ ","line":"29","C":[{"N":"varRef","name":"Q{}retained-properties","slot":"1"}]},{"N":"att","name":"rend","sType":"1NA ","line":"30","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"string-join","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"30","C":[{"N":"data","diag":"0|0||string-join","C":[{"N":"varRef","name":"Q{}retained-properties","slot":"1"}]},{"N":"str","val":" "}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]}]},{"N":"templateRule","rank":"1","prec":"7","seq":"19","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"7","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-transkribus.xsl","line":"23","module":"normalise-transkribus.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"lb/@facs | lb/@n","prio":"0.5","matches":"NA nQ{}facs","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{}facs","C":[{"N":"p.nodeTest","test":"NA nQ{}facs"},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}lb"}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"2","prec":"7","seq":"19","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"7","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-transkribus.xsl","line":"23","module":"normalise-transkribus.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"lb/@facs | lb/@n","prio":"0.5","matches":"NA nQ{}n","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{}n","C":[{"N":"p.nodeTest","test":"NA nQ{}n"},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}lb"}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"3","prec":"7","seq":"18","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"7","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-transkribus.xsl","line":"18","module":"normalise-transkribus.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"pb","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}pb","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}pb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb","ns":"= xml=~ fn=~ xsl=~ "},{"N":"elem","name":"pb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","role":"action","line":"19","C":[{"N":"att","name":"xml:id","nsuri":"http://www.w3.org/XML/1998/namespace","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"1AS","C":[{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ","line":"19","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"check","card":"?","diag":"0|0||replace","C":[{"N":"attVal","name":"Q{http://www.w3.org/XML/1998/namespace}id"}]}]},{"N":"str","val":"(.*)\\..+"},{"N":"str","val":"$1"}]}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]},{"N":"co","id":"15","binds":"15 3 7","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}docx-via-oxgarage","prec":"","C":[{"N":"templateRule","rank":"0","prec":"9","seq":"23","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"48","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"@xml:space[.='preserve']","prio":"0.5","matches":"NA nQ{http://www.w3.org/XML/1998/namespace}space","C":[{"N":"p.withPredicate","role":"match","sType":"1NA nQ{http://www.w3.org/XML/1998/namespace}space","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","C":[{"N":"p.nodeTest","test":"NA nQ{http://www.w3.org/XML/1998/namespace}space"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"atomSing","diag":"1|0||gc","card":"?","C":[{"N":"dot"}]},{"N":"str","val":"preserve"}]}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"1","prec":"9","seq":"22","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"44","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"      p[       empty(        node()[normalize-space()] except hi[@rend='Page']       )      ]     ","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}p","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}p","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}p"},{"N":"fn","name":"empty","C":[{"N":"except","op":"except","C":[{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"},{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"string","C":[{"N":"dot"}]}]}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}rend"},{"N":"str","val":"Page"}]}]}]}]}]},{"N":"applyT","sType":"* ","line":"45","mode":"Q{}docx-via-oxgarage","role":"action","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"45"}]}]},{"N":"templateRule","rank":"2","prec":"9","seq":"21","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"31","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi[@rend='Page']","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}hi","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}rend"},{"N":"str","val":"Page"}]}]},{"N":"elem","name":"pb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0 css=https://www.w3.org/Style/CSS/ map=http://www.w3.org/2005/xpath-functions/map","role":"action","line":"33","C":[{"N":"att","name":"xml:id","nsuri":"http://www.w3.org/XML/1998/namespace","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"1AS","C":[{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","line":"33","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"^([^.]+).*"},{"N":"str","val":"$1"}]}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]},{"N":"templateRule","rank":"3","prec":"9","seq":"26","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"76","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"@style","prio":"0","matches":"NA nQ{}style","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}style","sType":"1NA nQ{}style","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ "},{"N":"let","var":"Q{}style","slot":"0","sType":"* ","line":"77","role":"action","C":[{"N":"ufCall","name":"Q{https://www.w3.org/Style/CSS/}purify-declaration-block","coId":"3","sType":"*","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"77","bSlot":"1","C":[{"N":"dot"}]},{"N":"choose","sType":"? ","line":"78","C":[{"N":"varRef","name":"Q{}style","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","line":"78"},{"N":"att","name":"style","sType":"1NA ","line":"79","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"varRef","sType":"*","name":"Q{}style","slot":"0","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"79"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"templateRule","rank":"4","prec":"9","seq":"25","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"57","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"@rend","prio":"0","matches":"NA nQ{}rend","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}rend","sType":"1NA nQ{}rend","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ "},{"N":"let","var":"Q{}rend","slot":"0","sType":"* ","line":"68","role":"action","C":[{"N":"fn","name":"string-join","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"68","C":[{"N":"fn","name":"filter","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"atomSing","diag":"0|0||tokenize","card":"?","C":[{"N":"dot"}]}]}]},{"N":"inlineFn","arity":"1","name":"inline","as":"1AB","sType":"1F a[*] r[1AB]","C":[{"N":"arg","name":"token","asCode":"*","slot":"2"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","role":"body","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}token","slot":"2"}]},{"N":"gVarRef","name":"Q{}desired-rend-tokens","bSlot":"2"}]}]}]},{"N":"str","val":" "}]},{"N":"choose","sType":"? ","line":"69","C":[{"N":"varRef","name":"Q{}rend","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","line":"69"},{"N":"att","name":"rend","sType":"1NA ","line":"70","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"varRef","sType":"*","name":"Q{}rend","slot":"0","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"70"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"templateRule","rank":"5","prec":"9","seq":"24","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}div","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}div","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}div"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]},{"N":"templateRule","rank":"6","prec":"9","seq":"24","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}head","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}head","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}head"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]},{"N":"templateRule","rank":"7","prec":"9","seq":"24","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}p","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}p","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}p"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]},{"N":"templateRule","rank":"8","prec":"9","seq":"24","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}item","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}item","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}item"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]},{"N":"templateRule","rank":"9","prec":"9","seq":"24","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}label","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}label","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}label"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]},{"N":"templateRule","rank":"10","prec":"9","seq":"24","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"8","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}note","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}note","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}note"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]}]}]},{"N":"co","binds":"","id":"16","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","prec":""}]},{"N":"co","id":"17","binds":"2 13 14 15","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","name":"Q{}normalise","prec":"","C":[{"N":"templateRule","rank":"0","prec":"10","seq":"27","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 nyingarn=https://nyingarn.net/ns/functions","minImp":"6","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise.xsl","line":"49","module":"normalise.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"true","match":"/","prio":"-0.5","matches":"ND","C":[{"N":"p.nodeTest","role":"match","test":"ND","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions "},{"N":"let","var":"Q{}source-type","slot":"0","sType":"* ","line":"50","role":"action","C":[{"N":"ufCall","name":"Q{https://nyingarn.net/ns/functions}tei-source-type","coId":"2","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"50","bSlot":"0","C":[{"N":"dot"}]},{"N":"choose","sType":"* ","type":"item()*","line":"51","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"52","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}source-type","slot":"0"}]},{"N":"str","val":"from-the-page"}]},{"N":"applyT","sType":"* ","line":"54","mode":"Q{}from-the-page","bSlot":"1","C":[{"N":"dot","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"54"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"56","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}source-type","slot":"0"}]},{"N":"str","val":"transkribus"}]},{"N":"applyT","sType":"* ","line":"58","mode":"Q{}transkribus","bSlot":"2","C":[{"N":"dot","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"58"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"60","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}source-type","slot":"0"}]},{"N":"str","val":"docx-via-oxgarage"}]},{"N":"applyT","sType":"* ","line":"62","mode":"Q{}docx-via-oxgarage","bSlot":"3","C":[{"N":"dot","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"62"}]},{"N":"true"},{"N":"dot","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"66"}]}]}]}]}]},{"N":"co","id":"18","binds":"18","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","name":"Q{}serialize","prec":"","C":[{"N":"templateRule","rank":"0","prec":"11","seq":"29","ns":"xml=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions =http://www.tei-c.org/ns/1.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/process-tei-to-page-files.xsl","line":"129","module":"process-tei-to-page-files.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"@*","prio":"-0.5","matches":"NA","C":[{"N":"p.nodeTest","role":"match","test":"NA","sType":"1NA","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions "},{"N":"copy","sType":"1NA ","flags":"cin","role":"action","line":"130","C":[{"N":"empty","sType":"0 "}]}]},{"N":"templateRule","rank":"1","prec":"11","seq":"28","ns":"xml=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions =http://www.tei-c.org/ns/1.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/process-tei-to-page-files.xsl","line":"121","module":"process-tei-to-page-files.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"*","prio":"-0.5","matches":"NE","C":[{"N":"p.nodeTest","role":"match","test":"NE","sType":"1NE","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions "},{"N":"copy","sType":"1NE ","flags":"in","role":"action","line":"122","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"123","mode":"Q{}serialize","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"123"}]},{"N":"applyT","sType":"* ","line":"124","mode":"Q{}serialize","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"124"}]}]}]}]}]}]},{"N":"overridden"},{"N":"key","name":"Q{}authority-record-by-id","binds":"18","flags":"u","module":"infer-semantics.xsl","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~ css=https://www.w3.org/Style/CSS/","baseUri":"file:///srv/tasks/src/xslt/infer-semantics.xsl","line":"23","C":[{"N":"p.withPredicate","role":"match","sType":"1NE u[NE nQ{http://www.tei-c.org/ns/1.0}person,NE nQ{http://www.tei-c.org/ns/1.0}place]","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ ","C":[{"N":"p.venn","op":"union","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}person"},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}place"}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{http://www.w3.org/XML/1998/namespace}id"}]},{"N":"data","role":"use","C":[{"N":"data","C":[{"N":"docOrder","sType":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","line":"23","C":[{"N":"slash","role":"select","simple":"1","sType":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","C":[{"N":"treat","as":"N","diag":"13|0|XTTE0510|","C":[{"N":"dot"}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","sType":"*NA nQ{http://www.w3.org/XML/1998/namespace}id","ns":"= xml=~ fn=~ xsl=~ array=~ css=https://www.w3.org/Style/CSS/ "}]}]}]}]}]},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"30"},{"N":"property","name":"indent","value":"yes"},{"N":"property","name":"method","value":"xml"}]},{"N":"decimalFormat"}],"Σ":"9836ea8e"}