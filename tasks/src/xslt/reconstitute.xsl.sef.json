<<<<<<< HEAD
{"N":"package","version":"30","packageVersion":"1","saxonVersion":"SaxonJS 2.5","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2022-12-01T00:56:47.838Z","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","defaultElementNS":"http://www.tei-c.org/ns/1.0","C":[{"N":"co","id":"0","uniform":"true","binds":"10 11","C":[{"N":"template","flags":"os","module":"reconstitute.xsl","slots":"200","baseUri":"file:///srv/tasks/src/xslt/reconstitute.xsl","name":"Q{http://www.w3.org/1999/XSL/Transform}initial-template","line":"11","expand-text":"true","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","sType":"* ","C":[{"N":"sequence","role":"body","sType":"* ","C":[{"N":"param","name":"Q{}source-uri","slot":"0","sType":"* ","as":"* ","flags":"","line":"12","C":[{"N":"str","sType":"1AS ","val":"","role":"select"},{"N":"supplied","role":"conversion","slot":"0","sType":"* "}]},{"N":"let","var":"Q{}original","slot":"1","sType":"* ","line":"13","C":[{"N":"docOrder","sType":"*N","role":"select","line":"13","C":[{"N":"fn","name":"document","sType":"*N","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"varRef","name":"Q{}source-uri","slot":"0"}]}]},{"N":"let","var":"Q{}normalised-original","slot":"2","sType":"* ","line":"14","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/reconstitute.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"15","mode":"Q{}normalise","bSlot":"0","C":[{"N":"varRef","name":"Q{}original","slot":"1","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"15"}]}]},{"N":"resultDoc","sType":"0 ","line":"17","local":"","global":"indent=yes\nmethod=xml\n","C":[{"N":"str","sType":"1AS ","val":"final.xml","role":"href"},{"N":"applyT","sType":"* ","line":"18","mode":"Q{}reconstitute","role":"content","bSlot":"1","C":[{"N":"varRef","name":"Q{}normalised-original","slot":"2","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"18"},{"N":"withParam","name":"Q{}source-uri","flags":"t","slot":"0","sType":"*","C":[{"N":"varRef","name":"Q{}source-uri","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"19"}]}]}]}]}]}]}]}]},{"N":"co","id":"1","vis":"PRIVATE","ex:uniform":"true","binds":"9","C":[{"N":"function","name":"Q{https://nyingarn.net/ns/functions}tei-source-type","as":"* ","slots":"201","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 nyingarn=https://nyingarn.net/ns/functions","module":"normalise.xsl","baseUri":"file:///srv/tasks/src/xslt/normalise.xsl","flags":"muu","sig":"1F r[* ] a[* ] ","sType":"1F r[* ] a[* ] ","line":"24","C":[{"N":"arg","slot":"0","name":"Q{}document","as":"* ","sType":"* "},{"N":"choose","sType":"* ","type":"item()*","role":"body","line":"26","C":[{"N":"fn","name":"contains","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"27","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"check","card":"?","diag":"0|0||contains","C":[{"N":"data","diag":"0|0||contains","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}document","slot":"0"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}TEI"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}teiHeader"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}fileDesc"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}publicationStmt"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}publisher"}]}]}]}]}]},{"N":"str","val":"FromThePage"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"str","val":"from-the-page","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"29"},{"N":"fn","name":"contains","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"31","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"check","card":"?","diag":"0|0||contains","C":[{"N":"data","diag":"0|0||contains","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}document","slot":"0"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}TEI"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}teiHeader"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}fileDesc"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}publicationStmt"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}publisher"}]}]}]}]}]},{"N":"str","val":"tranScriptorium"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"str","val":"transkribus","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"33"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"35","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}document","slot":"0"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}TEI"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}teiHeader"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}encodingDesc"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}appInfo"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}application"}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}ident"}]}]}]},{"N":"str","val":"TEI_fromDOCX"}]},{"N":"applyT","sType":"* ","line":"37","mode":"#unnamed","bSlot":"0","C":[{"N":"str","val":"docx-via-oxgarage","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"37"}]},{"N":"true"},{"N":"str","val":"generic-tei","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"41"}]}]}]},{"N":"co","id":"2","vis":"PRIVATE","ex:uniform":"true","binds":"3","C":[{"N":"function","name":"Q{https://www.w3.org/Style/CSS/}purify-declaration-block","as":"* ","slots":"201","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","module":"normalise-docx-via-oxgarage.xsl","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","flags":"muu","sig":"1F r[* ] a[* ] ","sType":"1F r[* ] a[* ] ","line":"83","C":[{"N":"arg","slot":"0","name":"Q{}declaration-block","as":"* ","sType":"* "},{"N":"let","var":"Q{}declarations","slot":"1","sType":"*AS ","line":"85","role":"body","C":[{"N":"ufCall","name":"Q{https://www.w3.org/Style/CSS/}parse-declaration-block","coId":"3","sType":"*FM","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"85","bSlot":"0","C":[{"N":"varRef","name":"Q{}declaration-block","slot":"0"}]},{"N":"let","var":"Q{}non-bogus-declarations","slot":"2","sType":"*AS ","line":"88","C":[{"N":"filter","sType":"*","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"88","C":[{"N":"varRef","name":"Q{}declarations","slot":"1"},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"treat","as":"F","diag":"0|0|XPTY0004|apply","C":[{"N":"dot"}]},{"N":"arrayBlock","C":[{"N":"str","val":"text-align"}]}]}]},{"N":"sequence","literal":"true","C":[{"N":"str","val":"left"},{"N":"str","val":"justify"}]}]}]}]},{"N":"let","var":"Q{}desired-properties","slot":"3","sType":"*AS ","line":"90","C":[{"N":"sequence","literal":"true","sType":"*AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"90","C":[{"N":"str","val":"color"},{"N":"str","val":"text-align"}]},{"N":"fn","name":"string-join","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"103","C":[{"N":"data","diag":"0|0||string-join","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}for-each","C":[{"N":"treat","as":"FM","diag":"0|0||map:for-each","C":[{"N":"check","card":"1","diag":"0|0||map:for-each","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}merge","C":[{"N":"treat","as":"FM","diag":"0|0||map:merge","C":[{"N":"varRef","name":"Q{}non-bogus-declarations","slot":"2"}]}]}]}]},{"N":"inlineFn","arity":"2","name":"inline","as":"?AS","sType":"1F a[*,*] r[?AS]","C":[{"N":"arg","name":"key","asCode":"*","slot":"6"},{"N":"arg","name":"value","asCode":"*","slot":"7"},{"N":"choose","role":"body","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}key","slot":"6"}]},{"N":"data","diag":"1|1||gc","C":[{"N":"varRef","name":"Q{}desired-properties","slot":"3"}]}]},{"N":"fn","name":"concat","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}key","slot":"6"}]}]},{"N":"str","val":":"},{"N":"check","card":"?","diag":"undefined|1||concat","C":[{"N":"data","diag":"undefined|1||concat","C":[{"N":"varRef","name":"Q{}value","slot":"7"}]}]}]},{"N":"true"},{"N":"empty"}]}]}]}]},{"N":"str","val":"; "}]}]}]}]}]}]},{"N":"co","binds":"","id":"3","vis":"PRIVATE","ex:uniform":"true","C":[{"N":"function","name":"Q{https://www.w3.org/Style/CSS/}parse-declaration-block","as":"*FM ","slots":"201","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ array=~","module":"css.xsl","baseUri":"file:///srv/tasks/src/xslt/css.xsl","flags":"muu","sig":"1F r[*FM ] a[* ] ","sType":"1F r[*FM ] a[* ] ","line":"8","C":[{"N":"arg","slot":"0","name":"Q{}declaration-block","as":"* ","sType":"* "},{"N":"for","name":"Q{}declaration","slot":"3","sType":"*FM","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ array=~ ","role":"body","line":"15","C":[{"N":"fn","name":"tokenize","C":[{"N":"treat","as":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"varRef","name":"Q{}declaration-block","slot":"0"}]}]}]}]}]},{"N":"str","val":";"}]},{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}entry","C":[{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"substring-before","C":[{"N":"varRef","name":"Q{}declaration","slot":"3"},{"N":"str","val":":"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"substring-after","C":[{"N":"varRef","name":"Q{}declaration","slot":"3"},{"N":"str","val":":"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]}]}]}]}]},{"N":"co","binds":"","id":"4","vis":"PUBLIC","ex:uniform":"true","C":[{"N":"globalVariable","name":"Q{}desired-rend-tokens","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","module":"normalise-docx-via-oxgarage.xsl","slots":"200","sType":"*AS","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","C":[{"N":"sequence","literal":"true","sType":"*AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"25","C":[{"N":"str","val":"underline"},{"N":"str","val":"strikethrough"}]}]}]},{"N":"co","binds":"","id":"5","vis":"PUBLIC","ex:uniform":"true","C":[{"N":"globalVariable","name":"Q{}rend-mapping","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","module":"normalise-transkribus.xsl","slots":"200","sType":"1FM","baseUri":"file:///srv/tasks/src/xslt/normalise-transkribus.xsl","C":[{"N":"map","sType":"1FM","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"38","C":[{"N":"str","val":"underlined:true;"},{"N":"str","val":"underline"}]}]}]},{"N":"co","id":"6","binds":"6","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}from-the-page","prec":"","C":[{"N":"templateRule","rank":"0","prec":"0","seq":"1","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-from-the-page.xsl","line":"24","module":"normalise-from-the-page.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"(p|div)/@xml:id","prio":"0.5","matches":"NA nQ{http://www.w3.org/XML/1998/namespace}id","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{http://www.w3.org/XML/1998/namespace}id","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"p.nodeTest","test":"NA nQ{http://www.w3.org/XML/1998/namespace}id"},{"N":"p.venn","op":"union","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}p"},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}div"}]}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"1","prec":"0","seq":"3","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-from-the-page.xsl","line":"33","module":"normalise-from-the-page.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}div","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}div","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}div","ns":"= xml=~ fn=~ xsl=~ "},{"N":"applyT","sType":"* ","line":"34","mode":"Q{}from-the-page","role":"action","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"34"}]}]},{"N":"templateRule","rank":"2","prec":"0","seq":"2","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-from-the-page.xsl","line":"27","module":"normalise-from-the-page.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"pb","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}pb","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}pb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb","ns":"= xml=~ fn=~ xsl=~ "},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"3","prec":"0","seq":"0","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-from-the-page.xsl","line":"17","module":"normalise-from-the-page.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"fw","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}fw","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}fw","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}fw","ns":"= xml=~ fn=~ xsl=~ "},{"N":"let","var":"Q{}id","slot":"0","sType":"*NE ","line":"19","role":"action","C":[{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"19","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"^([^.]+).*"},{"N":"str","val":"$1"}]},{"N":"elem","name":"pb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"20","C":[{"N":"att","name":"xml:id","nsuri":"http://www.w3.org/XML/1998/namespace","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"varRef","name":"Q{}id","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","line":"20"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]}]},{"N":"co","id":"7","binds":"5","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}transkribus","prec":"","C":[{"N":"templateRule","rank":"0","prec":"1","seq":"6","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"1","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-transkribus.xsl","line":"26","module":"normalise-transkribus.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi/@rend","prio":"0.5","matches":"NA nQ{}rend","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{}rend","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"p.nodeTest","test":"NA nQ{}rend"},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"}]},{"N":"let","var":"Q{}current-properties","slot":"0","sType":"* ","line":"27","role":"action","C":[{"N":"fn","name":"tokenize","sType":"*AS","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"27","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"atomSing","diag":"0|0||tokenize","card":"?","C":[{"N":"dot"}]}]}]},{"N":"let","var":"Q{}retained-properties","slot":"1","sType":"* ","line":"28","C":[{"N":"forEach","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"28","C":[{"N":"varRef","name":"Q{}current-properties","slot":"0"},{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"gVarRef","name":"Q{}rend-mapping","bSlot":"0"},{"N":"arrayBlock","C":[{"N":"dot"}]}]}]},{"N":"choose","sType":"? ","line":"29","C":[{"N":"fn","name":"exists","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ ","line":"29","C":[{"N":"varRef","name":"Q{}retained-properties","slot":"1"}]},{"N":"att","name":"rend","sType":"1NA ","line":"30","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"string-join","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"30","C":[{"N":"data","diag":"0|0||string-join","C":[{"N":"varRef","name":"Q{}retained-properties","slot":"1"}]},{"N":"str","val":" "}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]}]},{"N":"templateRule","rank":"1","prec":"1","seq":"5","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"1","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-transkribus.xsl","line":"23","module":"normalise-transkribus.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"lb/@facs | lb/@n","prio":"0.5","matches":"NA nQ{}facs","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{}facs","C":[{"N":"p.nodeTest","test":"NA nQ{}facs"},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}lb"}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"2","prec":"1","seq":"5","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"1","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-transkribus.xsl","line":"23","module":"normalise-transkribus.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"lb/@facs | lb/@n","prio":"0.5","matches":"NA nQ{}n","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{}n","C":[{"N":"p.nodeTest","test":"NA nQ{}n"},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}lb"}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"3","prec":"1","seq":"4","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"1","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-transkribus.xsl","line":"18","module":"normalise-transkribus.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"pb","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}pb","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}pb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb","ns":"= xml=~ fn=~ xsl=~ "},{"N":"elem","name":"pb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","role":"action","line":"19","C":[{"N":"att","name":"xml:id","nsuri":"http://www.w3.org/XML/1998/namespace","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"1AS","C":[{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ","line":"19","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"check","card":"?","diag":"0|0||replace","C":[{"N":"attVal","name":"Q{http://www.w3.org/XML/1998/namespace}id"}]}]},{"N":"str","val":"(.*)\\..+"},{"N":"str","val":"$1"}]}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]},{"N":"co","id":"8","binds":"8 2 4","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}docx-via-oxgarage","prec":"","C":[{"N":"templateRule","rank":"0","prec":"3","seq":"9","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"48","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"@xml:space[.='preserve']","prio":"0.5","matches":"NA nQ{http://www.w3.org/XML/1998/namespace}space","C":[{"N":"p.withPredicate","role":"match","sType":"1NA nQ{http://www.w3.org/XML/1998/namespace}space","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","C":[{"N":"p.nodeTest","test":"NA nQ{http://www.w3.org/XML/1998/namespace}space"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"atomSing","diag":"1|0||gc","card":"?","C":[{"N":"dot"}]},{"N":"str","val":"preserve"}]}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"1","prec":"3","seq":"8","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"44","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"      p[       empty(        node()[normalize-space()] except hi[@rend='Page']       )      ]     ","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}p","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}p","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}p"},{"N":"fn","name":"empty","C":[{"N":"except","op":"except","C":[{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"},{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"string","C":[{"N":"dot"}]}]}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}rend"},{"N":"str","val":"Page"}]}]}]}]}]},{"N":"applyT","sType":"* ","line":"45","mode":"Q{}docx-via-oxgarage","role":"action","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"45"}]}]},{"N":"templateRule","rank":"2","prec":"3","seq":"7","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"31","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi[@rend='Page']","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}hi","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}rend"},{"N":"str","val":"Page"}]}]},{"N":"elem","name":"pb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}pb ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0 css=https://www.w3.org/Style/CSS/ map=http://www.w3.org/2005/xpath-functions/map","role":"action","line":"33","C":[{"N":"att","name":"xml:id","nsuri":"http://www.w3.org/XML/1998/namespace","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"1AS","C":[{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","line":"33","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"^([^.]+).*"},{"N":"str","val":"$1"}]}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]},{"N":"templateRule","rank":"3","prec":"3","seq":"12","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"76","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"@style","prio":"0","matches":"NA nQ{}style","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}style","sType":"1NA nQ{}style","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ "},{"N":"let","var":"Q{}style","slot":"0","sType":"* ","line":"77","role":"action","C":[{"N":"ufCall","name":"Q{https://www.w3.org/Style/CSS/}purify-declaration-block","coId":"2","sType":"*","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"77","bSlot":"1","C":[{"N":"dot"}]},{"N":"choose","sType":"? ","line":"78","C":[{"N":"varRef","name":"Q{}style","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","line":"78"},{"N":"att","name":"style","sType":"1NA ","line":"79","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"varRef","sType":"*","name":"Q{}style","slot":"0","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"79"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"templateRule","rank":"4","prec":"3","seq":"11","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"57","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"@rend","prio":"0","matches":"NA nQ{}rend","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}rend","sType":"1NA nQ{}rend","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ "},{"N":"let","var":"Q{}rend","slot":"0","sType":"* ","line":"68","role":"action","C":[{"N":"fn","name":"string-join","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"68","C":[{"N":"fn","name":"filter","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"atomSing","diag":"0|0||tokenize","card":"?","C":[{"N":"dot"}]}]}]},{"N":"inlineFn","arity":"1","name":"inline","as":"1AB","sType":"1F a[*] r[1AB]","C":[{"N":"arg","name":"token","asCode":"*","slot":"2"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","role":"body","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}token","slot":"2"}]},{"N":"gVarRef","name":"Q{}desired-rend-tokens","bSlot":"2"}]}]}]},{"N":"str","val":" "}]},{"N":"choose","sType":"? ","line":"69","C":[{"N":"varRef","name":"Q{}rend","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","line":"69"},{"N":"att","name":"rend","sType":"1NA ","line":"70","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"varRef","sType":"*","name":"Q{}rend","slot":"0","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"70"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]},{"N":"templateRule","rank":"5","prec":"3","seq":"10","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}div","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}div","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}div"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]},{"N":"templateRule","rank":"6","prec":"3","seq":"10","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}head","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}head","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}head"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]},{"N":"templateRule","rank":"7","prec":"3","seq":"10","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}p","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}p","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}p"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]},{"N":"templateRule","rank":"8","prec":"3","seq":"10","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}item","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}item","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}item"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]},{"N":"templateRule","rank":"9","prec":"3","seq":"10","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}label","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}label","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}label"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]},{"N":"templateRule","rank":"10","prec":"3","seq":"10","ns":"xml=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ =http://www.tei-c.org/ns/1.0","minImp":"2","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise-docx-via-oxgarage.xsl","line":"51","module":"normalise-docx-via-oxgarage.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"div | head | p | item | label | note","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}note","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}note","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}note"},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"52","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ css=https://www.w3.org/Style/CSS/ map=~ ","role":"select","line":"52","C":[{"N":"int","val":"10"}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"nextMatch","sType":"* ","line":"53"}]}]}]}]},{"N":"co","binds":"","id":"9","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","prec":""}]},{"N":"co","id":"10","binds":"1 6 7 8","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","name":"Q{}normalise","prec":"","C":[{"N":"templateRule","rank":"0","prec":"4","seq":"13","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 nyingarn=https://nyingarn.net/ns/functions","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/normalise.xsl","line":"46","module":"normalise.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"true","match":"/","prio":"-0.5","matches":"ND","C":[{"N":"p.nodeTest","role":"match","test":"ND","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions "},{"N":"let","var":"Q{}source-type","slot":"0","sType":"* ","line":"47","role":"action","C":[{"N":"ufCall","name":"Q{https://nyingarn.net/ns/functions}tei-source-type","coId":"1","sType":"*","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"47","bSlot":"0","C":[{"N":"dot"}]},{"N":"choose","sType":"* ","type":"item()*","line":"48","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"49","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}source-type","slot":"0"}]},{"N":"str","val":"from-the-page"}]},{"N":"applyT","sType":"* ","line":"51","mode":"Q{}from-the-page","bSlot":"1","C":[{"N":"dot","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"51"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"53","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}source-type","slot":"0"}]},{"N":"str","val":"transkribus"}]},{"N":"applyT","sType":"* ","line":"55","mode":"Q{}transkribus","bSlot":"2","C":[{"N":"dot","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"55"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","line":"57","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}source-type","slot":"0"}]},{"N":"str","val":"docx-via-oxgarage"}]},{"N":"applyT","sType":"* ","line":"59","mode":"Q{}docx-via-oxgarage","bSlot":"3","C":[{"N":"dot","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"59"}]},{"N":"true"},{"N":"dot","sType":"1ND","ns":"= xml=~ fn=~ xsl=~ nyingarn=https://nyingarn.net/ns/functions ","role":"select","line":"63"}]}]}]}]}]},{"N":"co","binds":"","id":"11","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","name":"Q{}reconstitute","prec":"","C":[{"N":"templateRule","rank":"0","prec":"5","seq":"14","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/reconstitute.xsl","line":"24","module":"reconstitute.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"true","match":"body","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}body","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}body","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}body","ns":"= xml=~ fn=~ xsl=~ "},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"param","name":"Q{}source-uri","slot":"0","sType":"* ","as":"* ","flags":"t","line":"26","C":[{"N":"str","sType":"1AS ","val":"","role":"select"},{"N":"supplied","role":"conversion","slot":"0","sType":"* "}]},{"N":"empty","sType":"0 "}]}]}]}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"30"},{"N":"property","name":"indent","value":"yes"},{"N":"property","name":"method","value":"xml"}]},{"N":"decimalFormat"}],"Σ":"3c688145"}
=======
{"N":"package","version":"30","packageVersion":"1","saxonVersion":"SaxonJS 2.5","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2023-02-21T06:45:03.083Z","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","defaultElementNS":"http://www.tei-c.org/ns/1.0","C":[{"N":"co","id":"0","uniform":"true","binds":"2","C":[{"N":"template","flags":"os","module":"reconstitute.xsl","slots":"200","baseUri":"file:///srv/tasks/src/xslt/reconstitute.xsl","name":"Q{http://www.w3.org/1999/XSL/Transform}initial-template","line":"14","expand-text":"true","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","sType":"* ","C":[{"N":"sequence","role":"body","sType":"* ","C":[{"N":"param","name":"Q{}files","slot":"0","sType":"* ","as":"* ","flags":"","line":"15","C":[{"N":"str","sType":"1AS ","val":"","role":"select"},{"N":"supplied","role":"conversion","slot":"0","sType":"* "}]},{"N":"param","name":"Q{}identifier","slot":"1","sType":"* ","as":"* ","flags":"","line":"16","C":[{"N":"str","sType":"1AS ","val":"","role":"select"},{"N":"supplied","role":"conversion","slot":"1","sType":"* "}]},{"N":"param","name":"Q{}page-identifier-regex","slot":"2","sType":"* ","as":"* ","flags":"","line":"17","C":[{"N":"str","sType":"1AS ","val":"","role":"select"},{"N":"supplied","role":"conversion","slot":"2","sType":"* "}]},{"N":"param","name":"Q{}base-uri","slot":"3","sType":"* ","as":"* ","flags":"","line":"18","C":[{"N":"str","sType":"1AS ","val":"","role":"select"},{"N":"supplied","role":"conversion","slot":"3","sType":"* "}]},{"N":"let","var":"Q{}surface-files","slot":"4","sType":"* ","line":"23","C":[{"N":"filter","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"23","C":[{"N":"filter","C":[{"N":"fn","name":"sort","C":[{"N":"fn","name":"tokenize","C":[{"N":"treat","as":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"varRef","name":"Q{}files","slot":"0"}]}]}]}]}]}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"fn","name":"starts-with","C":[{"N":"treat","as":"AS","diag":"0|0||starts-with","C":[{"N":"check","card":"?","diag":"0|0||starts-with","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||starts-with","C":[{"N":"atomSing","diag":"0|0||starts-with","card":"?","C":[{"N":"dot"}]}]}]}]},{"N":"fn","name":"concat","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}identifier","slot":"1"}]}]},{"N":"str","val":"-"}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"fn","name":"matches","C":[{"N":"treat","as":"AS","diag":"0|0||matches","C":[{"N":"check","card":"?","diag":"0|0||matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]}]}]},{"N":"treat","as":"AS","diag":"0|1||matches","C":[{"N":"check","card":"1","diag":"0|1||matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||matches","C":[{"N":"check","card":"1","diag":"0|1||matches","C":[{"N":"data","diag":"0|1||matches","C":[{"N":"varRef","name":"Q{}page-identifier-regex","slot":"2"}]}]}]}]}]}]}]},{"N":"let","var":"Q{}ro-crate","slot":"5","sType":"* ","line":"26","C":[{"N":"fn","name":"json-doc","sType":"?","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"26","C":[{"N":"convert","to":"AS","flags":"","C":[{"N":"fn","name":"resolve-uri","C":[{"N":"str","val":"ro-crate-metadata.json"},{"N":"treat","as":"AS","diag":"0|1||resolve-uri","C":[{"N":"check","card":"1","diag":"0|1||resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||resolve-uri","C":[{"N":"check","card":"1","diag":"0|1||resolve-uri","C":[{"N":"data","diag":"0|1||resolve-uri","C":[{"N":"varRef","name":"Q{}base-uri","slot":"3"}]}]}]}]}]}]}]}]},{"N":"let","var":"Q{}ro-crate-properties","slot":"6","sType":"* ","line":"27","C":[{"N":"lookupAll","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"27","C":[{"N":"treat","as":"F","diag":"null|0||lookupAll","C":[{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"check","card":"1","diag":"0|0|XPTY0004|apply","C":[{"N":"treat","as":"F","diag":"0|0|XPTY0004|apply","C":[{"N":"varRef","name":"Q{}ro-crate","slot":"5"}]}]},{"N":"arrayBlock","C":[{"N":"str","val":"@graph"}]}]}]}]},{"N":"let","var":"Q{}ro-crate-root-id","slot":"7","sType":"* ","line":"37","C":[{"N":"forEach","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"37","C":[{"N":"forEach","C":[{"N":"filter","C":[{"N":"varRef","name":"Q{}ro-crate-properties","slot":"6"},{"N":"fn","name":"starts-with","C":[{"N":"treat","as":"AS","diag":"0|0||starts-with","C":[{"N":"check","card":"?","diag":"0|0||starts-with","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||starts-with","C":[{"N":"check","card":"?","diag":"0|0||starts-with","C":[{"N":"data","diag":"0|0||starts-with","C":[{"N":"forEach","C":[{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"treat","as":"F","diag":"0|0|XPTY0004|apply","C":[{"N":"dot"}]},{"N":"arrayBlock","C":[{"N":"str","val":"conformsTo"}]}]},{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"treat","as":"F","diag":"0|0|XPTY0004|apply","C":[{"N":"dot"}]},{"N":"arrayBlock","C":[{"N":"str","val":"@id"}]}]}]}]}]}]}]}]},{"N":"str","val":"https://w3id.org/ro/crate/"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"treat","as":"F","diag":"0|0|XPTY0004|apply","C":[{"N":"dot"}]},{"N":"arrayBlock","C":[{"N":"str","val":"about"}]}]}]},{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"treat","as":"F","diag":"0|0|XPTY0004|apply","C":[{"N":"dot"}]},{"N":"arrayBlock","C":[{"N":"str","val":"@id"}]}]}]},{"N":"let","var":"Q{}ro-crate-root-properties","slot":"8","sType":"* ","line":"41","C":[{"N":"filter","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"41","C":[{"N":"varRef","name":"Q{}ro-crate-properties","slot":"6"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","C":[{"N":"treat","as":"F","diag":"0|0|XPTY0004|apply","C":[{"N":"dot"}]},{"N":"arrayBlock","C":[{"N":"str","val":"@id"}]}]}]},{"N":"data","diag":"1|1||gc","C":[{"N":"varRef","name":"Q{}ro-crate-root-id","slot":"7"}]}]}]},{"N":"let","var":"Q{}surfaces","slot":"9","sType":"* ","line":"44","C":[{"N":"forEach","sType":"*ND","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"44","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}surface-files","slot":"4"},{"N":"fn","name":"resolve-uri","C":[{"N":"treat","as":"AS","diag":"0|0||resolve-uri","C":[{"N":"check","card":"?","diag":"0|0||resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||resolve-uri","C":[{"N":"atomSing","diag":"0|0||resolve-uri","card":"?","C":[{"N":"dot"}]}]}]}]},{"N":"treat","as":"AS","diag":"0|1||resolve-uri","C":[{"N":"check","card":"1","diag":"0|1||resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||resolve-uri","C":[{"N":"check","card":"1","diag":"0|1||resolve-uri","C":[{"N":"data","diag":"0|1||resolve-uri","C":[{"N":"varRef","name":"Q{}base-uri","slot":"3"}]}]}]}]}]}]}]},{"N":"fn","name":"doc","C":[{"N":"convert","to":"AS","flags":"","C":[{"N":"dot"}]}]}]},{"N":"resultDoc","sType":"0 ","line":"53","local":"","global":"indent=yes\nmethod=xml\n","C":[{"N":"fn","name":"concat","sType":"1AS ","role":"href","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"varRef","name":"Q{}identifier","slot":"1","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","line":"53"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]},{"N":"str","sType":"1AS ","val":"-tei-complete.xml"},{"N":"str","sType":"1AS ","val":""}]},{"N":"elem","name":"TEI","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}TEI ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","role":"content","line":"63","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"xml:id","nsuri":"http://www.w3.org/XML/1998/namespace","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"varRef","name":"Q{}identifier","slot":"1","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","line":"63"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"elem","name":"teiHeader","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}teiHeader ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"64","C":[{"N":"elem","name":"fileDesc","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}fileDesc ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"65","C":[{"N":"sequence","sType":"*NE ","C":[{"N":"elem","name":"titleStmt","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}titleStmt ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"66","C":[{"N":"elem","name":"title","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}title ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"67","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","line":"67","C":[{"N":"check","card":"1","diag":"0|0|XPTY0004|apply","C":[{"N":"treat","as":"F","diag":"0|0|XPTY0004|apply","C":[{"N":"varRef","name":"Q{}ro-crate-root-properties","slot":"8"}]}]},{"N":"arrayBlock","C":[{"N":"str","val":"name"}]}]}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]},{"N":"elem","name":"publicationStmt","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}publicationStmt ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"69","C":[{"N":"elem","name":"publisher","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}publisher ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"70","C":[{"N":"elem","name":"ref","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}ref ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"target","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://nyingarn.net/"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Nyingarn"}]}]}]}]}]},{"N":"elem","name":"sourceDesc","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}sourceDesc ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"72","C":[{"N":"elem","name":"p","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}p ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"73","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"ifCall","name":"Q{http://saxon.sf.net/}apply","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","line":"73","C":[{"N":"check","card":"1","diag":"0|0|XPTY0004|apply","C":[{"N":"treat","as":"F","diag":"0|0|XPTY0004|apply","C":[{"N":"varRef","name":"Q{}ro-crate-root-properties","slot":"8"}]}]},{"N":"arrayBlock","C":[{"N":"str","val":"description"}]}]}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]},{"N":"elem","name":"xenoData","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}xenoData ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"75","C":[{"N":"fn","name":"serialize","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"76","C":[{"N":"varRef","name":"Q{}ro-crate","slot":"5"},{"N":"map","C":[{"N":"str","val":"method"},{"N":"str","val":"json"},{"N":"str","val":"indent"},{"N":"true"}]}]}]}]}]}]},{"N":"elem","name":"text","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}text ","nsuri":"http://www.tei-c.org/ns/1.0","namespaces":"=http://www.tei-c.org/ns/1.0","line":"80","C":[{"N":"applyT","sType":"* ","line":"81","mode":"Q{}surface-to-text","bSlot":"0","C":[{"N":"varRef","name":"Q{}surfaces","slot":"9","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"81"}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"1","uniform":"true","binds":"1","C":[{"N":"template","flags":"os","module":"reconstitute.xsl","slots":"200","baseUri":"file:///srv/tasks/src/xslt/reconstitute.xsl","name":"Q{}reconstitute","line":"112","expand-text":"true","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","sType":"* ","C":[{"N":"sequence","role":"body","sType":"* ","C":[{"N":"param","name":"Q{}content","slot":"0","sType":"* ","as":"* ","flags":"","line":"118","C":[{"N":"str","sType":"1AS ","val":"","role":"select"},{"N":"supplied","role":"conversion","slot":"0","sType":"* "}]},{"N":"forEachGroup","sType":"* ","algorithm":"starting","line":"125","C":[{"N":"varRef","name":"Q{}content","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"125"},{"N":"p.venn","op":"union","role":"match","sType":"1NE","C":[{"N":"p.withPredicate","role":"match","sType":"1NE","C":[{"N":"p.nodeTest","test":"NE"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}part"},{"N":"str","val":"I"}]}]},{"N":"p.withPredicate","role":"match","sType":"1N u[NT,NP,NC,NE]","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"N u[NT,NP,NC,NE]"},{"N":"fn","name":"not","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"}]}]},{"N":"fn","name":"not","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}part"}]}]}]},{"N":"str","sType":"1AS ","role":"collation","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"},{"N":"choose","sType":"* ","type":"item()*","role":"content","line":"126","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ ","line":"127","C":[{"N":"attVal","name":"Q{}part"},{"N":"str","val":"I"}]},{"N":"copy","sType":"1 ","flags":"cin","line":"130","C":[{"N":"sequence","sType":"* ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","line":"131","sType":"*NA","C":[{"N":"except","op":"except","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"131","C":[{"N":"axis","name":"attribute","nodeTest":"*NA"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}part"}]}]},{"N":"callT","bSlot":"0","sType":"* ","name":"Q{}reconstitute","line":"132","C":[{"N":"withParam","name":"Q{}content","slot":"0","sType":"*N","C":[{"N":"docOrder","sType":"*N","role":"select","line":"133","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"currentGroup"}]},{"N":"union","op":"|","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}pb"},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","line":"139","sType":"*","C":[{"N":"currentGroup","sType":"*","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"139"}]}]}]}]}]}]},{"N":"co","id":"2","binds":"2","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}surface-to-text","prec":"","C":[{"N":"templateRule","rank":"0","prec":"0","seq":"2","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/reconstitute.xsl","line":"110","module":"reconstitute.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"true","match":"line[preceding-sibling::*[1]/self::line]","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}line","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}line","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}line"},{"N":"slash","op":"/","C":[{"N":"fn","name":"reverse","C":[{"N":"first","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*NE"}]}]},{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}line"}]}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"1","prec":"0","seq":"1","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/reconstitute.xsl","line":"98","module":"reconstitute.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"true","match":"line","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}line","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}line","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}line","ns":"= xml=~ fn=~ xsl=~ "},{"N":"elem","type":"element()","role":"action","name":"ab","sType":"1NE ","nsuri":"http://www.tei-c.org/ns/1.0","line":"99","C":[{"N":"sequence","sType":"* ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","line":"100","sType":"*NA","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"100"}]},{"N":"applyT","sType":"* ","line":"101","mode":"Q{}surface-to-text","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"101"}]},{"N":"forEach","sType":"* ","line":"102","C":[{"N":"docOrder","sType":"*N","role":"select","line":"102","C":[{"N":"fn","name":"key","sType":"*N","ns":"= xml=~ fn=~ xsl=~ ","C":[{"N":"str","val":"lines-by-first-line-id"},{"N":"fn","name":"generate-id","C":[{"N":"dot"}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"elem","type":"element()","name":"lb","sType":"1NE ","nsuri":"http://www.tei-c.org/ns/1.0","line":"103","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","sType":"*NA","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"7"}]}]},{"N":"applyT","sType":"* ","line":"104","mode":"Q{}surface-to-text","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"104"}]}]}]}]}]}]},{"N":"templateRule","rank":"2","prec":"0","seq":"0","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/reconstitute.xsl","line":"90","module":"reconstitute.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"true","match":"surface","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}surface","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}surface","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}surface","ns":"= xml=~ fn=~ xsl=~ "},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"elem","type":"element()","name":"pb","sType":"1NE ","nsuri":"http://www.tei-c.org/ns/1.0","line":"91","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 ex=http://ns.saxonica.com/xslt/export","sType":"*NA","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"3"}]}]},{"N":"applyT","sType":"* ","line":"92","mode":"Q{}surface-to-text","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ ","role":"select","line":"92"}]}]}]}]}]},{"N":"co","binds":"","id":"3","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","prec":""}]},{"N":"overridden"},{"N":"key","binds":"","name":"Q{}lines-by-first-line-id","flags":"u","module":"reconstitute.xsl","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0","baseUri":"file:///srv/tasks/src/xslt/reconstitute.xsl","line":"97","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}line","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}line","ns":"= xml=~ fn=~ xsl=~ "},{"N":"data","role":"use","C":[{"N":"data","C":[{"N":"fn","name":"generate-id","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ","line":"97","C":[{"N":"fn","name":"reverse","C":[{"N":"lastOf","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}line"}]}]}]}]}]}]},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"30"},{"N":"property","name":"indent","value":"yes"},{"N":"property","name":"method","value":"xml"}]},{"N":"decimalFormat"}],"Σ":"530ea37f"}
>>>>>>> 713f8e9 (fix up assemble-tei test and add implementation)
