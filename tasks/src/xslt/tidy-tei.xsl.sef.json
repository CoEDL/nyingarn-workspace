<<<<<<< HEAD
{"N":"package","version":"30","packageVersion":"1","saxonVersion":"SaxonJS 2.4","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2022-07-15T02:50:49.205Z","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","defaultElementNS":"http://www.tei-c.org/ns/1.0","C":[{"N":"co","id":"0","binds":"0","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}tidy","prec":"","C":[{"N":"templateRule","rank":"0","prec":"0","seq":"6","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"47","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"*[hi]","prio":"0.5","matches":"NE","C":[{"N":"p.withPredicate","role":"match","sType":"1NE","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.nodeTest","test":"NE"},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"}]},{"N":"copy","sType":"1NE ","flags":"cin","role":"action","line":"48","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"49","mode":"Q{}tidy","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"49"}]},{"N":"forEachGroup","sType":"* ","algorithm":"adjacent","flags":"c","line":"59","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"59"},{"N":"data","role":"key","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/array}sort","sType":"1FA","ns":"= xml=~ fn=~ xsl=~ array=~ ","line":"-1","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/array}_from-sequence","C":[{"N":"sequence","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"}]}]}]}]}]}]},{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]}]}]}]}]},{"N":"str","val":"\\s*;\\s*"}]}]}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"str","sType":"1AS ","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint","role":"collation"},{"N":"choose","sType":"* ","type":"item()*","role":"content","line":"60","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ array=~ ","line":"61"},{"N":"let","var":"Q{}content","slot":"0","sType":"* ","line":"64","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/tidy-tei.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"65","mode":"Q{}tidy","bSlot":"0","C":[{"N":"docOrder","sType":"*N","role":"select","line":"65","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"currentGroup"}]},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"}]}]}]}]}]},{"N":"choose","sType":"* ","type":"item()*","line":"67","C":[{"N":"or","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ array=~ ","line":"68","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]},{"N":"copy","sType":"1N u[1NT ,1NP ,1NC ,1NE ] ","flags":"cin","line":"70","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"71","mode":"Q{}tidy","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"71"}]},{"N":"varRef","name":"Q{}content","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"72"}]}]},{"N":"true"},{"N":"varRef","name":"Q{}content","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"77"}]}]},{"N":"true"},{"N":"applyT","sType":"* ","line":"83","mode":"Q{}tidy","bSlot":"0","C":[{"N":"currentGroup","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"83"}]}]}]}]}]}]},{"N":"templateRule","rank":"1","prec":"0","seq":"5","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"42","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi/@xml:space[.='preserve']","prio":"0.5","matches":"NA nQ{http://www.w3.org/XML/1998/namespace}space","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{http://www.w3.org/XML/1998/namespace}space","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NA nQ{http://www.w3.org/XML/1998/namespace}space"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"atomSing","diag":"1|0||gc","card":"?","C":[{"N":"dot"}]},{"N":"str","val":"preserve"}]}]},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"2","prec":"0","seq":"4","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"38","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi[not(@rend or @style)]","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}hi","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"fn","name":"not","C":[{"N":"or","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]}]}]},{"N":"applyT","sType":"* ","line":"39","mode":"Q{}tidy","role":"action","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"39"}]}]},{"N":"templateRule","rank":"3","prec":"0","seq":"3","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"33","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"p/text()[not(following-sibling::node())][matches(., '\\s$')]","prio":"0.5","matches":"NT","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.withPredicate","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NT"},{"N":"fn","name":"not","C":[{"N":"axis","name":"following-sibling","nodeTest":"*N"}]}]},{"N":"fn","name":"matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s$"}]}]},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}p"}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"action","line":"34","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s+$"},{"N":"str","val":""}]}]},{"N":"templateRule","rank":"4","prec":"0","seq":"1","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"22","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"text()[following-sibling::*[1]/self::lb][matches(., '\\s$')]","prio":"0.5","matches":"NT","C":[{"N":"p.withPredicate","role":"match","code":"*NT","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.genPos","test":"*NT","C":[{"N":"slash","op":"/","C":[{"N":"first","C":[{"N":"axis","name":"following-sibling","nodeTest":"*NE"}]},{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}lb"}]}]},{"N":"fn","name":"matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s$"}]}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"action","line":"23","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s+$"},{"N":"str","val":""}]}]},{"N":"templateRule","rank":"5","prec":"0","seq":"0","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"17","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"text()[contains(., codepoints-to-string(10))]","prio":"0.5","matches":"NT","C":[{"N":"p.withPredicate","role":"match","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.nodeTest","test":"NT"},{"N":"fn","name":"contains","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"atomSing","diag":"0|0||contains","card":"?","C":[{"N":"dot"}]}]},{"N":"fn","name":"codepoints-to-string","C":[{"N":"int","val":"10"}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"action","line":"18","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\n\\s+"},{"N":"fn","name":"codepoints-to-string","C":[{"N":"int","val":"10"}]}]}]},{"N":"templateRule","rank":"6","prec":"0","seq":"2","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"27","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"lb","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}lb","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}lb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}lb","ns":"= xml=~ fn=~ xsl=~ array=~ "},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"nextMatch","sType":"* ","line":"28"},{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"29","C":[{"N":"int","val":"10"}]}]}]}]}]},{"N":"co","binds":"","id":"1","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","prec":""}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"30"}]},{"N":"decimalFormat"}],"Σ":"6332cc1d"}
=======
{"N":"package","version":"30","packageVersion":"1","saxonVersion":"SaxonJS 2.4","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2022-07-15T06:37:02.702Z","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","defaultElementNS":"http://www.tei-c.org/ns/1.0","C":[{"N":"co","id":"0","binds":"0","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}tidy","prec":"","C":[{"N":"templateRule","rank":"0","prec":"0","seq":"6","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"47","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"*[hi]","prio":"0.5","matches":"NE","C":[{"N":"p.withPredicate","role":"match","sType":"1NE","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.nodeTest","test":"NE"},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"}]},{"N":"copy","sType":"1NE ","flags":"cin","role":"action","line":"48","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"49","mode":"Q{}tidy","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"49"}]},{"N":"forEachGroup","sType":"* ","algorithm":"adjacent","flags":"c","line":"59","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"59"},{"N":"data","role":"key","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/array}sort","sType":"1FA","ns":"= xml=~ fn=~ xsl=~ array=~ ","line":"-1","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/array}_from-sequence","C":[{"N":"sequence","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"}]}]}]}]}]}]},{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]}]}]}]}]},{"N":"str","val":"\\s*;\\s*"}]}]}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"str","sType":"1AS ","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint","role":"collation"},{"N":"choose","sType":"* ","type":"item()*","role":"content","line":"60","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ array=~ ","line":"61"},{"N":"let","var":"Q{}content","slot":"0","sType":"* ","line":"64","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/tidy-tei.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"65","mode":"Q{}tidy","bSlot":"0","C":[{"N":"docOrder","sType":"*N","role":"select","line":"65","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"currentGroup"}]},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"}]}]}]}]}]},{"N":"choose","sType":"* ","type":"item()*","line":"67","C":[{"N":"or","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ array=~ ","line":"68","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]},{"N":"copy","sType":"1N u[1NT ,1NP ,1NC ,1NE ] ","flags":"cin","line":"70","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"71","mode":"Q{}tidy","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"71"}]},{"N":"varRef","name":"Q{}content","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"72"}]}]},{"N":"true"},{"N":"varRef","name":"Q{}content","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"77"}]}]},{"N":"true"},{"N":"applyT","sType":"* ","line":"83","mode":"Q{}tidy","bSlot":"0","C":[{"N":"currentGroup","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"83"}]}]}]}]}]}]},{"N":"templateRule","rank":"1","prec":"0","seq":"5","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"42","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi/@xml:space[.='preserve']","prio":"0.5","matches":"NA nQ{http://www.w3.org/XML/1998/namespace}space","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{http://www.w3.org/XML/1998/namespace}space","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NA nQ{http://www.w3.org/XML/1998/namespace}space"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"atomSing","diag":"1|0||gc","card":"?","C":[{"N":"dot"}]},{"N":"str","val":"preserve"}]}]},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"2","prec":"0","seq":"4","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"38","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi[not(@rend or @style)]","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}hi","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"fn","name":"not","C":[{"N":"or","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]}]}]},{"N":"applyT","sType":"* ","line":"39","mode":"Q{}tidy","role":"action","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"39"}]}]},{"N":"templateRule","rank":"3","prec":"0","seq":"3","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"33","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"p/text()[not(following-sibling::node())][matches(., '\\s$')]","prio":"0.5","matches":"NT","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.withPredicate","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NT"},{"N":"fn","name":"not","C":[{"N":"axis","name":"following-sibling","nodeTest":"*N"}]}]},{"N":"fn","name":"matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s$"}]}]},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}p"}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"action","line":"34","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s+$"},{"N":"str","val":""}]}]},{"N":"templateRule","rank":"4","prec":"0","seq":"1","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"22","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"text()[following-sibling::*[1]/self::lb][matches(., '\\s$')]","prio":"0.5","matches":"NT","C":[{"N":"p.withPredicate","role":"match","code":"*NT","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.genPos","test":"*NT","C":[{"N":"slash","op":"/","C":[{"N":"first","C":[{"N":"axis","name":"following-sibling","nodeTest":"*NE"}]},{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}lb"}]}]},{"N":"fn","name":"matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s$"}]}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"action","line":"23","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s+$"},{"N":"str","val":""}]}]},{"N":"templateRule","rank":"5","prec":"0","seq":"0","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"17","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"text()[contains(., codepoints-to-string(10))]","prio":"0.5","matches":"NT","C":[{"N":"p.withPredicate","role":"match","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.nodeTest","test":"NT"},{"N":"fn","name":"contains","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"atomSing","diag":"0|0||contains","card":"?","C":[{"N":"dot"}]}]},{"N":"fn","name":"codepoints-to-string","C":[{"N":"int","val":"10"}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"action","line":"18","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\n\\s+"},{"N":"fn","name":"codepoints-to-string","C":[{"N":"int","val":"10"}]}]}]},{"N":"templateRule","rank":"6","prec":"0","seq":"2","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"27","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"lb","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}lb","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}lb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}lb","ns":"= xml=~ fn=~ xsl=~ array=~ "},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"nextMatch","sType":"* ","line":"28"},{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"29","C":[{"N":"int","val":"10"}]}]}]}]}]},{"N":"co","binds":"","id":"1","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","prec":""}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"30"}]},{"N":"decimalFormat"}],"Σ":"6332ef5f"}
>>>>>>> bef53fb (add freshly-compiled versions of all XSLT)
=======
{"N":"package","version":"30","packageVersion":"1","saxonVersion":"SaxonJS 2.4","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2022-07-24T23:03:14.556Z","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","defaultElementNS":"http://www.tei-c.org/ns/1.0","C":[{"N":"co","id":"0","binds":"0","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","name":"Q{}tidy","prec":"","C":[{"N":"templateRule","rank":"0","prec":"0","seq":"6","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"47","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"*[hi]","prio":"0.5","matches":"NE","C":[{"N":"p.withPredicate","role":"match","sType":"1NE","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.nodeTest","test":"NE"},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"}]},{"N":"copy","sType":"1NE ","flags":"cin","role":"action","line":"48","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"49","mode":"Q{}tidy","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"49"}]},{"N":"forEachGroup","sType":"* ","algorithm":"adjacent","flags":"c","line":"59","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"59"},{"N":"data","role":"key","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/array}sort","sType":"1FA","ns":"= xml=~ fn=~ xsl=~ array=~ ","line":"-1","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/array}_from-sequence","C":[{"N":"sequence","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"}]}]}]}]}]}]},{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]}]}]}]}]},{"N":"str","val":"\\s*;\\s*"}]}]}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"str","sType":"1AS ","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint","role":"collation"},{"N":"choose","sType":"* ","type":"item()*","role":"content","line":"60","C":[{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}hi","sType":"*NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ array=~ ","line":"61"},{"N":"let","var":"Q{}content","slot":"0","sType":"* ","line":"64","C":[{"N":"doc","sType":"1ND ","base":"file:///srv/tasks/src/xslt/tidy-tei.xsl","role":"select","C":[{"N":"applyT","sType":"* ","line":"65","mode":"Q{}tidy","bSlot":"0","C":[{"N":"docOrder","sType":"*N","role":"select","line":"65","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"currentGroup"}]},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"}]}]}]}]}]},{"N":"choose","sType":"* ","type":"item()*","line":"67","C":[{"N":"or","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ array=~ ","line":"68","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]},{"N":"copy","sType":"1N u[1NT ,1NP ,1NC ,1NE ] ","flags":"cin","line":"70","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"71","mode":"Q{}tidy","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"71"}]},{"N":"varRef","name":"Q{}content","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"72"}]}]},{"N":"true"},{"N":"varRef","name":"Q{}content","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"77"}]}]},{"N":"true"},{"N":"applyT","sType":"* ","line":"83","mode":"Q{}tidy","bSlot":"0","C":[{"N":"currentGroup","sType":"*","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"83"}]}]}]}]}]}]},{"N":"templateRule","rank":"1","prec":"0","seq":"5","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"42","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi/@xml:space[.='preserve']","prio":"0.5","matches":"NA nQ{http://www.w3.org/XML/1998/namespace}space","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NA nQ{http://www.w3.org/XML/1998/namespace}space","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NA nQ{http://www.w3.org/XML/1998/namespace}space"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"atomSing","diag":"1|0||gc","card":"?","C":[{"N":"dot"}]},{"N":"str","val":"preserve"}]}]},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"2","prec":"0","seq":"4","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"38","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"hi[not(@rend or @style)]","prio":"0.5","matches":"NE nQ{http://www.tei-c.org/ns/1.0}hi","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}hi","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}hi"},{"N":"fn","name":"not","C":[{"N":"or","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}rend"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}style"}]}]}]},{"N":"applyT","sType":"* ","line":"39","mode":"Q{}tidy","role":"action","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"39"}]}]},{"N":"templateRule","rank":"3","prec":"0","seq":"3","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"33","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"p/text()[not(following-sibling::node())][matches(., '\\s$')]","prio":"0.5","matches":"NT","C":[{"N":"p.withUpper","role":"match","axis":"parent","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.withPredicate","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NT"},{"N":"fn","name":"not","C":[{"N":"axis","name":"following-sibling","nodeTest":"*N"}]}]},{"N":"fn","name":"matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s$"}]}]},{"N":"p.nodeTest","test":"NE nQ{http://www.tei-c.org/ns/1.0}p"}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"action","line":"34","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s+$"},{"N":"str","val":""}]}]},{"N":"templateRule","rank":"4","prec":"0","seq":"1","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"22","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"text()[following-sibling::*[1]/self::lb][matches(., '\\s$')]","prio":"0.5","matches":"NT","C":[{"N":"p.withPredicate","role":"match","code":"*NT","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.genPos","test":"*NT","C":[{"N":"slash","op":"/","C":[{"N":"first","C":[{"N":"axis","name":"following-sibling","nodeTest":"*NE"}]},{"N":"axis","name":"self","nodeTest":"*NE nQ{http://www.tei-c.org/ns/1.0}lb"}]}]},{"N":"fn","name":"matches","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||matches","C":[{"N":"atomSing","diag":"0|0||matches","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s$"}]}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"action","line":"23","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\s+$"},{"N":"str","val":""}]}]},{"N":"templateRule","rank":"5","prec":"0","seq":"0","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"17","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"text()[contains(., codepoints-to-string(10))]","prio":"0.5","matches":"NT","C":[{"N":"p.withPredicate","role":"match","sType":"1NT","ns":"= xml=~ fn=~ xsl=~ array=~ ","C":[{"N":"p.nodeTest","test":"NT"},{"N":"fn","name":"contains","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"atomSing","diag":"0|0||contains","card":"?","C":[{"N":"dot"}]}]},{"N":"fn","name":"codepoints-to-string","C":[{"N":"int","val":"10"}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"fn","name":"replace","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"action","line":"18","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||replace","C":[{"N":"atomSing","diag":"0|0||replace","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"\\n\\s+"},{"N":"fn","name":"codepoints-to-string","C":[{"N":"int","val":"10"}]}]}]},{"N":"templateRule","rank":"6","prec":"0","seq":"2","ns":"xml=~ xsl=~ =http://www.tei-c.org/ns/1.0 array=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///srv/tasks/src/xslt/tidy-tei.xsl","line":"27","module":"tidy-tei.xsl","xpath-default-namespace":"http://www.tei-c.org/ns/1.0","expand-text":"false","match":"lb","prio":"0","matches":"NE nQ{http://www.tei-c.org/ns/1.0}lb","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.tei-c.org/ns/1.0}lb","sType":"1NE nQ{http://www.tei-c.org/ns/1.0}lb","ns":"= xml=~ fn=~ xsl=~ array=~ "},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"nextMatch","sType":"* ","line":"28"},{"N":"fn","name":"codepoints-to-string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ array=~ ","role":"select","line":"29","C":[{"N":"int","val":"10"}]}]}]}]}]},{"N":"co","binds":"","id":"1","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","prec":""}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"30"}]},{"N":"decimalFormat"}],"Σ":"6332adeb"}
>>>>>>> d418e90 (update compiled stylesheets)
